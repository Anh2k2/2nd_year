<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252">
<META NAME="Generator" CONTENT="Microsoft FrontPage 4.0">
<TITLE>Lien lac giua cac tien trinh</TITLE>
</HEAD>
<BODY LINK="#0000ff" VLINK="#7f007f" background="images/barbkgde.gif">

<B><P ALIGN="CENTER"><font face="Verdana" color="#000080" size="2">B&Agrave;I 4 :</font><FONT SIZE=4>     &#9;&#9;</FONT><FONT FACE="Verdana"><font color="#000080" size="5">LI&Ecirc;N L&#7840;C GI&#7918;A C&Aacute;C TI&#7870;N TR&Igrave;NH &amp; V&#7844;N &#272;&#7872; &#272;&#7890;NG B&#7896; HO&Aacute;</font></P>
</FONT>
</B><EM><P ALIGN="JUSTIFY"><font face="Arial" size="2" color="#000066">C&aacute;c ti&#7871;n tr&igrave;nh tr&ecirc;n nguy&ecirc;n t&#7855;c l&agrave; ho&agrave;n to&agrave;n
&#273;&#7897;c l&#7853;p, nh&#432;ng th&#7921;c t&#7871; c&oacute; th&#7875; nh&#432; th&#7871; kh&ocirc;ng&nbsp;? Trong b&agrave;i n&agrave;y ch&uacute;ng ta s&#7869; t&igrave;m hi&#7875;u l&yacute; do c&aacute;c ti&#7871;n tr&igrave;nh c&oacute; nhu c&#7847;u li&ecirc;n l&#7841;c, c&aacute;c c&#417; ch&#7871; h&#7895; tr&#7907; vi&#7879;c li&ecirc;n l&#7841;c n&agrave;y c&#361;ng nh&#432; nh&#7919;ng v&#7845;n
&#273;&#7873; &#273;&#7863;t ra khi các ti&#7871;n tr&igrave;nh trao &#273;&#7893;i thông tin v&#7899;i nhau.</font></EM> </P><B><P ALIGN="JUSTIFY"><font color="#FF0000" face="Verdana" size="4"><a name="lienlac">I. LI&Ecirc;N L&#7840;C GI&#7918;A C&Aacute;C TI&#7870;N TR&Igrave;NH</a></font> </P>

<P ALIGN="JUSTIFY"><font color="#800000"><a name="nhucau"><img border="0" src="images/read_single.gif" width="15" height="12">
 I.1. Nhu c&#7847;u li&ecirc;n l&#7841;c gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh</a></font></P><blockquote>


</B><P ALIGN="JUSTIFY"><font color="#000066">Trong m&ocirc;i tr&#432;&#7901;ng <FONT FACE="Times New Roman">&#273;a ch</FONT>&#432;&#417;ng, m&#7897;t ti&#7871;n tr&igrave;nh kh&ocirc;ng <FONT FACE="Times New Roman">&#273;</FONT>&#417;n <FONT FACE="Times New Roman">&#273;&#7897;c trong h&#7879; th&#7889;ng , m</FONT>&agrave; c&oacute; th&#7875; &#7843;nh h&#432;&#7903;ng <FONT FACE="Times New Roman">&#273;&#7871;n các ti&#7871;n tr</FONT>&igrave;nh kh&aacute;c , ho&#7863;c b&#7883; c&aacute;c ti&#7871;n tr&igrave;nh kh&aacute;c t&aacute;c <FONT FACE="Times New Roman">&#273;&#7897;ng. Nói cách khác, các ti&#7871;n tr</FONT>&igrave;nh l&agrave; nh&#7919;ng th&#7921;c th&#7875; <FONT FACE="Times New Roman">&#273;&#7897;c l&#7853;p , nh</FONT>&#432;ng ch&uacute;ng v&#7851;n c&oacute; nhu c&#7847;u li&ecirc;n l&#7841;c v&#7899;i nhau
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7875; :</font></P>

</FONT><B>
<blockquote>
  <P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
  Chia s&#7867; th&ocirc;ng tin</font></B><font color="#000066">: nhi&#7873;u ti&#7871;n tr&igrave;nh c&oacute; th&#7875; c&ugrave;ng quan t&acirc;m <FONT FACE="Times New Roman">&#273;&#7871;n nh&#7919;ng d&#7919; li&#7879;u n</FONT>&agrave;o <FONT FACE="Times New Roman">&#273;ó, do v&#7853;y h&#7879; &#273;i&#7873;u h</FONT>&agrave;nh c&#7847;n cung c&#7845;p m&#7897;t m&ocirc;i tr&#432;&#7901;ng cho ph&eacute;p s&#7921; truy c&#7853;p
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7891;ng th&#7901;i &#273;&#7871;n các d&#7919; li&#7879;u chung.</font></P>
</FONT><B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
H&#7907;p t&aacute;c ho&agrave;n th&agrave;nh t&aacute;c v&#7909;</font></B><font color="#000066">: <FONT FACE="Times New Roman">&#273;ôi khi &#273;&#7875; &#273;&#7841;t &#273;</FONT>&#432;&#7907;c m&#7897;t s&#7921; x&#7917; l&yacute; nhanh ch&oacute;ng, ng&#432;&#7901;i ta ph&acirc;n chia m&#7897;t t&aacute;c v&#7909; th&agrave;nh c&aacute;c c&ocirc;ng vi&#7879;c nh&#7887; c&oacute; th&#7875; ti&#7871;n h&agrave;nh song song. Th&#432;&#7901;ng th&igrave; c&aacute;c c&ocirc;ng vi&#7879;c nh&#7887; n&agrave;y c&#7847;n h&#7907;p t&aacute;c v&#7899;i nhau <FONT FACE="Times New Roman">&#273;&#7875; c</FONT>&ugrave;ng ho&agrave;n th&agrave;nh t&aacute;c v&#7909; ban <FONT FACE="Times New Roman">&#273;&#7847;u, ví d&#7909; d&#7919; li&#7879;u k&#7871;t xu&#7845;t c&#7911;a ti&#7871;n tr</FONT>&igrave;nh n&agrave;y l&#7841;i l&agrave; d&#7919; li&#7879;u nh&#7853;p cho ti&#7871;n tr&igrave;nh kh&aacute;c …Trong c&aacute;c tr&#432;&#7901;ng h&#7907;p <FONT FACE="Times New Roman">&#273;ó, h&#7879; &#273;i&#7873;u h</FONT>&agrave;nh c&#7847;n cung c&#7845;p c&#417; ch&#7871; <FONT FACE="Times New Roman">&#273;&#7875; các ti&#7871;n tr</FONT>&igrave;nh c&oacute; th&#7875; trao
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7893;i thông tin v&#7899;i nhau.</font></P>
</FONT><B>
</blockquote>
</blockquote>
<P ALIGN="JUSTIFY"><font color="#800000"><a name="vande"><img border="0" src="images/read_single.gif" width="15" height="12">
 I.2. C&aacute;c v&#7845;n <FONT FACE="Times New Roman">&#273;&#7873; n&#7843;y sinh trong vi&#7879;c li</FONT>&ecirc;n l&#7841;c gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh</a></font></P>

</B><blockquote>


<P ALIGN="JUSTIFY"><font color="#000066">&nbsp;&nbsp;&nbsp; Do m&#7895;i ti&#7871;n tr&igrave;nh s&#7905; h&#7919;u m&#7897;t kh&ocirc;ng gian <FONT FACE="Times New Roman">&#273;&#7883;a ch&#7881; ri</FONT>&ecirc;ng bi&#7879;t, n&ecirc;n c&aacute;c ti&#7871;n tr&igrave;nh kh&ocirc;ng th&#7875; li&ecirc;n l&#7841;c tr&#7921;c ti&#7871;p d&#7877; d&agrave;ng m&agrave; ph&#7843;i nh&#7901; v&agrave;o c&aacute;c c&#417; ch&#7871; do h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh cung c&#7845;p. Khi cung c&#7845;p c&#417; ch&#7871; li&ecirc;n l&#7841;c cho c&aacute;c ti&#7871;n tr&igrave;nh, h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh th&#432;&#7901;ng ph&#7843;i t&igrave;m gi&#7843;i ph&aacute;p cho c&aacute;c v&#7845;n
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7873; chính y&#7871;u sau&nbsp;:</font></P><blockquote>

</FONT><I><P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">Li&ecirc;n k&#7871;t t&#432;&#7901;ng minh hay ti&#7873;m &#7849;n (explicit naming/implicit naming)
</font> </I><font color="#000066">: ti&#7871;n tr&igrave;nh c&oacute; c&#7847;n ph&#7843;i bi&#7871;t ti&#7871;n tr&igrave;nh n&agrave;o <FONT FACE="Times New Roman">&#273;ang trao &#273;&#7893;i hay chia s&#7867; thông tin v&#7899;i nó&nbsp;? M&#7889;i li</FONT>&ecirc;n k&#7871;t <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c g&#7885;i l&agrave; t&#432;&#7901;ng minh khi <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c thi&#7871;t l&#7853;p r&otilde; r&agrave;ng , tr&#7921;c ti&#7871;p gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh, v&agrave; l&agrave; ti&#7873;m &#7849;n khi c&aacute;c ti&#7871;n tr&igrave;nh li&ecirc;n l&#7841;c v&#7899;i nhau th&ocirc;ng qua m&#7897;t qui &#432;&#7899;c ng&#7847;m n&agrave;o
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;ó.</font> </P>
</FONT><I><P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">Li&ecirc;n l&#7841;c theo ch&#7871; <FONT FACE="Times New Roman">&#273;&#7897; &#273;&#7891;ng b&#7897; hay không &#273;&#7891;ng b&#7897; (bl</FONT>ocking / non-blocking)</font></I><font color="#000066">: khi m&#7897;t ti&#7871;n tr&igrave;nh trao <FONT FACE="Times New Roman">&#273;&#7893;i thông tin v&#7899;i m&#7897;t ti&#7871;n tr</FONT>&igrave;nh kh&aacute;c, c&aacute;c ti&#7871;n tr&igrave;nh c&oacute; c&#7847;n ph&#7843;i <FONT FACE="Times New Roman">&#273;&#7907;i cho thao tác li</FONT>&ecirc;n l&#7841;c ho&agrave;n t&#7845;t r&#7891;i m&#7899;i ti&#7871;p t&#7909;c c&aacute;c x&#7917; l&yacute; kh&aacute;c&nbsp;? C&aacute;c ti&#7871;n tr&igrave;nh li&ecirc;n l&#7841;c theo c&#417; ch&#7871; <FONT FACE="Times New Roman">&#273;&#7891;ng b&#7897; s&#7869; ch&#7901; nhau ho</FONT>&agrave;n t&#7845;t vi&#7879;c li&ecirc;n l&#7841;c, c&ograve;n c&aacute;c ti&#7871;n tr&igrave;nh li&ecirc;n l&#7841;c theo c&#417; ch&#7871; nonblocking th&igrave; kh&ocirc;ng.</font></P>
<I><P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">Li&ecirc;n l&#7841;c gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh trong h&#7879; th&#7889;ng t&#7853;p trung v&agrave; h&#7879; th&#7889;ng ph&acirc;n t&aacute;n</font></I><font color="#000066">: c&#417; ch&#7871; li&ecirc;n l&#7841;c gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh trong c&ugrave;ng m&#7897;t m&aacute;y t&iacute;nh c&oacute; s&#7921; kh&aacute;c bi&#7879;t v&#7899;i vi&#7879;c li&ecirc;n l&#7841;c gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh gi&#7919;a nh&#7919;ng m&aacute;y t&iacute;nh kh&aacute;c nhau?</font></P>
</blockquote>

<P ALIGN="JUSTIFY"><font color="#000066">&nbsp;&nbsp;&nbsp; H&#7847;u h&#7871;t c&aacute;c h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh <FONT FACE="Times New Roman">&#273;</FONT>&#432;a ra nhi&#7873;u c&#417; ch&#7871; li&ecirc;n l&#7841;c kh&aacute;c nhau, m&#7895;i c&#417; ch&#7871; c&oacute; nh&#7919;ng <FONT FACE="Times New Roman">&#273;&#7863;c tính ri</FONT>&ecirc;ng, v&agrave; th&iacute;ch h&#7907;p trong m&#7897;t ho&agrave;n c&#7843;nh chuy&ecirc;n bi&#7879;t.</font></P>

<P ALIGN="JUSTIFY">&nbsp;</P>
<B></blockquote>
<P ALIGN="JUSTIFY"><font color="#FF0000" face="Verdana" size="4"><a name="coche">II. C&aacute;c C&#417; Ch&#7871; Th&ocirc;ng Tin Li&ecirc;n l&#7841;c</a></font></P> 

<P ALIGN="JUSTIFY"><font color="#000066"><a name="tinhieu"><img border="0" src="images/read_single.gif" width="15" height="12">
 </a>
</font><a name="tinhieu"><font color="#800000">II.1. T&iacute;n hi&#7879;u (Signal)</font></a></P><blockquote>


<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Gi&#7899;i thi&#7879;u: </font> </B>
<font color="#000066">T&iacute;n hi&#7879;u  l&agrave; m&#7897;t c&#417; ch&#7871; ph&#7847;n m&#7873;m t&#432;&#417;ng t&#7921; nh&#432; c&aacute;c ng&#7855;t c&#7913;ng t&aacute;c <FONT FACE="Times New Roman">&#273;&#7897;ng &#273;&#7871;n các ti&#7871;n tr</FONT>&igrave;nh. M&#7897;t t&iacute;n hi&#7879;u <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c s&#7917; d&#7909;ng <FONT FACE="Times New Roman">&#273;&#7875; thông báo cho ti&#7871;n tr</FONT>&igrave;nh v&#7873; m&#7897;t s&#7921; ki&#7879;n n&agrave;o <FONT FACE="Times New Roman">&#273;ó x&#7843;y ra. Có nhi&#7873;u tín hi&#7879;u &#273;</FONT>&#432;&#7907;c <FONT FACE="Times New Roman">&#273;&#7883;nh ngh&#297;a, m&#7895;i m&#7897;t tín hi&#7879;u có m&#7897;t ý ngh&#297;a t</FONT>&#432;&#417;ng &#7913;ng v&#7899;i m&#7897;t s&#7921; ki&#7879;n <FONT FACE="Times New Roman">&#273;&#7863;c </FONT>tr&#432;ng.</font> </P>

<U><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/more1.gif" width="14" height="14"></U>  

<U>V&iacute; d&#7909;&nbsp;:</U>  </font>  <font color="#000066">  M&#7897;t s&#7889;  t&iacute;n hi&#7879;u c&#7911;a UNIX</font></P></blockquote>

<P ALIGN="CENTER"><CENTER><TABLE BORDER="1" CELLSPACING=1 CELLPADDING=7 WIDTH=464 height="565">
<TR><TD WIDTH="22%" VALIGN="TOP" HEIGHT=19 background="images/bg_yellow.gif">
<FONT SIZE=3><P ALIGN="CENTER"><font color="#000066">T&iacute;n hi&#7879;u</font></FONT></TD>
<TD WIDTH="78%" VALIGN="TOP" HEIGHT=19 background="images/bg_yellow.gif">
<FONT SIZE=3><P ALIGN="CENTER"><font color="#000066">M&ocirc; t&#7843;</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><blockquote>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGINT</font></blockquote>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">Ng&#432;&#7901;i d&ugrave;ng nh&#7845;n ph&iacute;m DEL &#273;&#7875; ng&#7855;t x&#7917; l&yacute; ti&#7871;n tr&igrave;nh</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><DIR>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGQUIT</font></DIR>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">Y&ecirc;u c&#7847;u tho&aacute;t x&#7917; l&yacute;</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><DIR>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGILL</font></DIR>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">Ti&#7871;n tr&igrave;nh x&#7917; l&yacute; m&#7897;t ch&#7881; th&#7883; b&#7845;t h&#7907;p l&#7879;</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><blockquote>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGKILL</font></blockquote>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">Y&ecirc;u c&#7847;u k&#7871;t th&uacute;c m&#7897;t ti&#7871;n tr&igrave;nh</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><DIR>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGFPT</font></DIR>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">L&#7895;i floating – point x&#7843;y ra ( chia cho 0)</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><DIR>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGPIPE</font></DIR>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">Ti&#7871;n tr&igrave;nh ghi d&#7919; li&#7879;u v&agrave;o pipe m&agrave; kh&ocirc;ng c&oacute; reader</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><DIR>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGSEGV</font></DIR>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">Ti&#7871;n tr&igrave;nh truy xu&#7845;t &#273;&#7871;n m&#7897;t &#273;&#7883;a ch&#7881; b&#7845;t h&#7907;p l&#7879;</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="24" background="images/blocks.gif"><blockquote>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGCLD</font></blockquote>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="24" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">Ti&#7871;n tr&igrave;nh con k&#7871;t th&uacute;c</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><DIR>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGUSR1</font></DIR>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">T&iacute;n hi&#7879;u 1 do ng&#432;&#7901;i d&ugrave;ng &#273;&#7883;nh ngh&#297;a</font></FONT></TD>
</TR>
<TR><TD WIDTH="22%" VALIGN="TOP" height="36" background="images/blocks.gif"><DIR>

<P ALIGN="JUSTIFY"><font color="#000066" face="Times New Roman" SIZE="2">SIGUSR2</font></DIR>
  </TD>
<TD WIDTH="78%" VALIGN="TOP" height="36" background="images/blocks.gif">
<FONT FACE="Tahoma" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">T&iacute;n hi&#7879;u 2 do ng&#432;&#7901;i d&ugrave;ng &#273;&#7883;nh ngh&#297;a</font></FONT></TD>
</TR>
</TABLE>
</CENTER>

<blockquote>

<P ALIGN="JUSTIFY"><font color="#000066">M&#7895;i ti&#7871;n tr&igrave;nh s&#7905; h&#7919;u m&#7897;t b&#7843;ng bi&#7877;u di&#7877;n c&aacute;c t&iacute;n hi&#7879;u kh&aacute;c nhau. V&#7899;i m&#7895;i t&iacute;n hi&#7879;u s&#7869; c&oacute; t&#432;&#417;ng &#7913;ng m&#7897;t tr&igrave;nh x&#7917; l&yacute; t&iacute;n hi&#7879;u <I>(signal handler)</I> qui <FONT FACE="Times New Roman">&#273;&#7883;nh các x&#7917; lý c&#7911;a ti&#7871;n tr</FONT>&igrave;nh khi nh&#7853;n <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c t&iacute;n hi&#7879;u t&#432;&#417;ng &#7913;ng.</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066">C&aacute;c t&iacute;n hi&#7879;u <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c g&#7903;i
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;i b&#7903;i&nbsp;:</font></P>
<blockquote>

</FONT><P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">Ph&#7847;n c&#7913;ng (v&iacute; d&#7909; l&#7895;i do c&aacute;c ph&eacute;p t&iacute;nh s&#7889; h&#7885;c)</font></P>
<P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">H&#7841;t nh&acirc;n h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh g&#7903;i <FONT FACE="Times New Roman">&#273;&#7871;n m&#7897;t ti&#7871;n tr</FONT>&igrave;nh ( v&iacute; d&#7909; l&#432;u &yacute; ti&#7871;n tr&igrave;nh  khi c&oacute; m&#7897;t thi&#7871;t b&#7883; nh&#7853;p/xu&#7845;t t&#7921; do).</font> </P>
<P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">M&#7897;t ti&#7871;n tr&igrave;nh g&#7903;i <FONT FACE="Times New Roman">&#273;&#7871;n m&#7897;t ti&#7871;n tr</FONT>&igrave;nh kh&aacute;c ( v&iacute; d&#7909; ti&#7871;n tr&igrave;nh cha y&ecirc;u c&#7847;u m&#7897;t ti&#7871;n tr&igrave;nh con k&#7871;t th&uacute;c)</font></P>
<P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">Ng&#432;&#7901;i d&ugrave;ng ( v&iacute; d&#7909; nh&#7845;n ph&iacute;m Ctl-C <FONT FACE="Times New Roman">&#273;&#7875; ng&#7855;t x&#7917; lý c&#7911;a ti&#7871;n tr</FONT>&igrave;nh)</font></P></blockquote>

<P ALIGN="JUSTIFY"><font color="#000066">Khi m&#7897;t ti&#7871;n tr&igrave;nh nh&#7853;n m&#7897;t t&iacute;n hi&#7879;u, n&oacute; c&oacute; th&#7875; x&#7917; s&#7921; theo m&#7897;t trong c&aacute;c c&aacute;ch sau&nbsp;:</font></P>
<blockquote>

<P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">B&#7887; qua t&iacute;n hi&#7879;u</font><B> </P>
</B><P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">X&#7917; l&yacute; t&iacute;n hi&#7879;u theo ki&#7875;u m&#7863;c
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7883;nh</font></P>
</FONT><P ALIGN="JUSTIFY"><B><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
</font></B><font color="#000066">Ti&#7871;p nh&#7853;n t&iacute;n hi&#7879;u v&agrave; x&#7917; l&yacute; theo c&aacute;ch <FONT FACE="Times New Roman">&#273;&#7863;c bi&#7879;t c&#7911;a ti&#7871;n t</FONT>r&igrave;nh.</font></P>
<p ALIGN="center"><img border="0" src="images/hinh3.1.gif" width="221" height="179"></p>
<P ALIGN="center"><font color="#000066"><b>Hình 3.1</b> Liên l&#7841;c b&#7857;ng tín
hi&#7879;u</font></P>
</blockquote>

<B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Th&#7843;o lu&#7853;n: </font> </B><font color="#000066">Li&ecirc;n l&#7841;c b&#7857;ng t&iacute;n hi&#7879;u mang t&iacute;nh ch&#7845;t <I>kh&ocirc;ng <FONT FACE="Times New Roman">&#273;&#7891;ng b&#7897;</FONT></I>, ngh&#297;a l&agrave; m&#7897;t ti&#7871;n tr&igrave;nh nh&#7853;n t&iacute;n hi&#7879;u kh&ocirc;ng th&#7875; x&aacute;c <FONT FACE="Times New Roman">&#273;&#7883;nh tr</FONT>&#432;&#7899;c th&#7901;i <FONT FACE="Times New Roman">&#273;i&#7875;m nh&#7853;n tính hi&#7879;u. H</FONT>&#417;n n&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh kh&ocirc;ng th&#7875; ki&#7875;m tra <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c s&#7921; ki&#7879;n t&#432;&#417;ng &#7913;ng v&#7899;i t&iacute;n hi&#7879;u c&oacute; th&#7853;t s&#7921; x&#7843;y ra&nbsp;? Cu&#7889;i c&ugrave;ng, c&aacute;c ti&#7871;n tr&igrave;nh ch&#7881; c&oacute; th&#7875; th&ocirc;ng b&aacute;o cho nhau v&#7873; m&#7897;t bi&#7871;n c&#7889; n&agrave;o <FONT FACE="Times New Roman">&#273;ó, m</FONT>&agrave; kh&ocirc;ng trao <FONT FACE="Times New Roman">&#273;&#7893;i d&#7919; li&#7879;u theo c</FONT>&#417; ch&#7871; n&agrave;y <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c.</font> </P><P ALIGN="JUSTIFY">&nbsp; </P>

<B>
</blockquote>
<P ALIGN="JUSTIFY"><font color="#000066"><a name="pipe"><img border="0" src="images/read_single.gif" width="15" height="12">
 </a>
</font><a name="pipe"><font color="#800000">II.2. Pipe</font></a></P></B> 
  <blockquote>

<B>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Gi&#7899;i thi&#7879;u:</font></B> <font color="#000066"> M&#7897;t pipe l&agrave; m&#7897;t k&ecirc;nh li&ecirc;n l&#7841;c tr&#7921;c ti&#7871;p gi&#7919;a hai ti&#7871;n tr&igrave;nh&nbsp;: d&#7919; li&#7879;u xu&#7845;t c&#7911;a ti&#7871;n tr&igrave;nh n&agrave;y <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c chuy&#7875;n <FONT FACE="Times New Roman">&#273;&#7871;n l</FONT>&agrave;m d&#7919; li&#7879;u nh&#7853;p cho ti&#7871;n tr&igrave;nh kia d&#432;&#7899;i d&#7841;ng m&#7897;t d&ograve;ng c&aacute;c byte.</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066">Khi m&#7897;t pipe <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c thi&#7871;t l&#7853;p gi&#7919;a hai ti&#7871;n tr&igrave;nh, m&#7897;t trong ch&uacute;ng s&#7869; ghi d&#7919; li&#7879;u v&agrave;o pipe v&agrave; ti&#7871;n tr&igrave;nh kia s&#7869; <FONT FACE="Times New Roman">&#273;&#7885;c d&#7919; li&#7879;u t&#7915; pipe. Th&#7913; t&#7921; d&#7919; li&#7879;u  truy&#7873;n qua pipe &#273;</FONT>&#432;&#7907;c b&#7843;o to&agrave;n theo nguy&ecirc;n t&#7855;c FIFO. M&#7897;t pipe c&oacute; k&iacute;ch th&#432;&#7899;c gi&#7899;i h&#7841;n (th&#432;&#7901;ng l&agrave; 4096 k&yacute; t&#7921;)</font></P>
<P ALIGN="center"><img border="0" src="images/hinh3.2.jpg" width="318" height="82"></P>
<P ALIGN="center"><font color="#000066"><b>Hình 3.2</b> Liên l&#7841;c qua pipe</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">M&#7897;t ti&#7871;n tr&igrave;nh ch&#7881; c&oacute; th&#7875; s&#7917; d&#7909;ng m&#7897;t pipe do n&oacute; t&#7841;o ra hay k&#7871; th&#7915;a t&#7915; ti&#7871;n tr&igrave;nh cha. H&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh cung c&#7845;p c&aacute;c l&#7901;i g&#7885;i h&#7879; th&#7889;ng read/write  cho c&aacute;c ti&#7871;n tr&igrave;nh th&#7921;c hi&#7879;n thao t&aacute;c <FONT FACE="Times New Roman">&#273;&#7885;c/ghi d&#7919; li&#7879;u trong pipe. H&#7879; &#273;i&#7873;u h</FONT>&agrave;nh c&#361;ng ch&#7883;u tr&aacute;ch nhi&#7879;m <FONT FACE="Times New Roman">&#273;&#7891;ng b&#7897; hóa vi&#7879;c truy xu&#7845;t pipe trong các t</FONT>&igrave;nh hu&#7889;ng:</font></P><blockquote>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
Ti&#7871;n tr&igrave;nh </font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7885;c pipe s&#7869; b&#7883; khóa n&#7871;u pipe tr&#7889;ng, nó s&#7869; ph&#7843;i &#273;&#7907;i &#273;&#7871;n khi pipe có d&#7919; li&#7879;u &#273;&#7875; truy xu&#7845;t.</font></P>
</FONT><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
Ti&#7871;n tr&igrave;nh ghi pipe s&#7869; b&#7883; kh&oacute;a n&#7871;u pipe </font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7847;y, nó s&#7869; ph&#7843;i &#273;&#7907;i &#273;&#7871;n khi pipe có ch&#7895; tr&#7889;ng &#273;&#7875; ch&#7913;a d&#7919; li&#7879;u.</font></P></blockquote>

</FONT><B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Th&#7843;o lu&#7853;n: </font> </B><font color="#000066">Li&ecirc;n l&#7841;c b&#7857;ng pipe l&agrave; m&#7897;t c&#417; ch&#7871; li&ecirc;n l&#7841;c <I>m&#7897;t chi&#7873;u (unidirectional)</I>, ngh&#297;a l&agrave; m&#7897;t ti&#7871;n tr&igrave;nh k&#7871;t n&#7889;i v&#7899;i m&#7897;t pipe ch&#7881; c&oacute; th&#7875; th&#7921;c hi&#7879;n m&#7897;t trong hai thao t&aacute;c <FONT FACE="Times New Roman">&#273;&#7885;c ho&#7863;c ghi, nh</FONT>&#432;ng kh&ocirc;ng th&#7875; th&#7921;c hi&#7879;n c&#7843; hai. M&#7897;t s&#7889; h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh cho ph&eacute;p thi&#7871;t l&#7853;p hai pipe gi&#7919;a m&#7897;t c&#7863;p ti&#7871;n tr&igrave;nh <FONT FACE="Times New Roman">&#273;&#7875; t&#7841;o li</FONT>&ecirc;n l&#7841;c hai chi&#7873;u. Trong nh&#7919;ng h&#7879; th&#7889;ng <FONT FACE="Times New Roman">&#273;ó, có nguy c</FONT>&#417; x&#7843;y ra t&igrave;nh tr&#7841;ng <I>t&#7855;c ngh&#7869;n</I> (deadlock)&nbsp;: m&#7897;t pipe b&#7883; gi&#7899;i h&#7841;n v&#7873; k&iacute;ch th&#432;&#7899;c, do v&#7853;y n&#7871;u c&#7843; hai pipe n&#7889;i k&#7871;t hai ti&#7871;n tr&igrave;nh <FONT FACE="Times New Roman">&#273;&#7873;u &#273;&#7847;y(ho&#7863;c &#273;&#7873;u tr&#7889;ng) v</FONT>&agrave; c&#7843; hai ti&#7871;n tr&igrave;nh <FONT FACE="Times New Roman">&#273;&#7873;u mu&#7889;n ghi (hay &#273;&#7885;c) d&#7919; li&#7879;u v</FONT>&agrave;o pipe(m&#7895;i ti&#7871;n tr&igrave;nh ghi d&#7919; li&#7879;u v&agrave;o m&#7897;t pipe), ch&uacute;ng s&#7869; c&ugrave;ng b&#7883; kh&oacute;a v&agrave; ch&#7901; l&#7851;n nhau m&atilde;i m&atilde;i&nbsp;!</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066">C&#417; ch&#7871; n&agrave;y cho ph&eacute;p truy&#7873;n d&#7919; li&#7879;u v&#7899;i c&aacute;ch th&#7913;c kh&ocirc;ng c&#7845;u tr&uacute;c.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">Ngo&agrave;i ra, m&#7897;t gi&#7899;i h&#7841;n c&#7911;a h&igrave;nh th&#7913;c li&ecirc;n l&#7841;c n&agrave;y l&agrave; ch&#7881; cho ph&eacute;p k&#7871;t n&#7889;i hai ti&#7871;n tr&igrave;nh c&oacute; quan h&#7879; cha-con, v&agrave; tr&ecirc;n c&ugrave;ng m&#7897;t m&aacute;y t&iacute;nh.</font></P>

<B>
    </blockquote>
    <P ALIGN="JUSTIFY"><font color="#800000"><a name="vungnho"><img border="0" src="images/read_single.gif" width="15" height="12">
    II.3. V&ugrave;ng nh&#7899; chia s&#7867;</a></font></P></B> 
  <blockquote>

<B>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Gi&#7899;i thi&#7879;u:</font></B> <font color="#000066"> C&aacute;ch ti&#7871;p c&#7853;n c&#7911;a c&#417; ch&#7871; n&agrave;y l&agrave; cho nhi&#7873;u ti&#7871;n tr&igrave;nh c&ugrave;ng truy xu&#7845;t <FONT FACE="Times New Roman">&#273;&#7871;n m&#7897;t v</FONT>&ugrave;ng nh&#7899; chung g&#7885;i l&agrave; <I>v&ugrave;ng nh&#7899; chia s&#7867;</I> <I>(shared memory)</I>.Kh&ocirc;ng c&oacute; b&#7845;t k&#7923; h&agrave;nh vi truy&#7873;n d&#7919; li&#7879;u n&agrave;o c&#7847;n ph&#7843;i th&#7921;c hi&#7879;n &#7903; <FONT FACE="Times New Roman">&#273;ây, d&#7919; li&#7879;u ch&#7881; &#273;</FONT>&#417;n gi&#7843;n <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c <FONT FACE="Times New Roman">&#273;&#7863;t v</FONT>&agrave;o m&#7897;t v&ugrave;ng nh&#7899; m&agrave; nhi&#7873;u ti&#7871;n tr&igrave;nh c&oacute; th&#7875; c&ugrave;ng truy c&#7853;p <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">V&#7899;i ph&#432;&#417;ng th&#7913;c n&agrave;y, c&aacute;c ti&#7871;n tr&igrave;nh chia s&#7867; m&#7897;t v&ugrave;ng nh&#7899; v&#7853;t l&yacute; th&ocirc;ng qua trung gian kh&ocirc;ng gian <FONT FACE="Times New Roman">&#273;&#7883;a ch&#7881; c&#7911;a chúng. M&#7897;t v</FONT>&ugrave;ng nh&#7899; chia s&#7867; t&#7891;n t&#7841;i <FONT FACE="Times New Roman">&#273;&#7897;c l&#7853;p v&#7899;i các ti&#7871;n tr</FONT>&igrave;nh, v&agrave; khi m&#7897;t ti&#7871;n tr&igrave;nh mu&#7889;n truy xu&#7845;t <FONT FACE="Times New Roman">&#273;&#7871;n v</FONT>&ugrave;ng nh&#7899; n&agrave;y, ti&#7871;n tr&igrave;nh ph&#7843;i k&#7871;t g&#7855;n v&ugrave;ng nh&#7899; chung <FONT FACE="Times New Roman">&#273;ó v</FONT>&agrave;o kh&ocirc;ng gian <FONT FACE="Times New Roman">&#273;&#7883;a ch&#7881; ri</FONT>&ecirc;ng c&#7911;a t&#7915;ng ti&#7871;n tr&igrave;nh, v&agrave; thao t&aacute;c tr&ecirc;n <FONT FACE="Times New Roman">&#273;ó nh</FONT>&#432; m&#7897;t v&ugrave;ng nh&#7899; ri&ecirc;ng c&#7911;a m&igrave;nh.</font> </P>
<P ALIGN="center"><img border="0" src="images/hinh3.3.jpg" width="175" height="111"></P>
<P ALIGN="center"><font color="#000066"><b>Hình 3.3</b> Liên l&#7841;c qua vùng
nh&#7899; chia s&#7867;</font></P>
<B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Th&#7843;o lu&#7853;n:</font></B><font color="#000066">. <FONT FACE="Times New Roman">&#272;ây l</FONT>&agrave; ph&#432;&#417;ng ph&aacute;p nhanh nh&#7845;t <FONT FACE="Times New Roman">&#273;&#7875; trao &#273;&#7893;i d&#7919; li&#7879;u gi&#7919;a các ti&#7871;n tr</FONT>&igrave;nh. Nh&#432;ng  ph&#432;&#417;ng th&#7913;c n&agrave;y  c&#361;ng l&agrave;m ph&aacute;t sinh c&aacute;c kh&oacute; kh<FONT FACE="Times New Roman">&#259;n trong vi&#7879;c b&#7843;o &#273;&#7843;m s&#7921; to</FONT>&agrave;n v&#7865;n d&#7919; li&#7879;u (<I>coherence</I>) , v&iacute; d&#7909;&nbsp;: l&agrave;m sao bi&#7871;t <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c d&#7919; li&#7879;u m&agrave; m&#7897;t ti&#7871;n tr&igrave;nh truy xu&#7845;t l&agrave; d&#7919; li&#7879;u m&#7899;i nh&#7845;t m&agrave; ti&#7871;n tr&igrave;nh kh&aacute;c <FONT FACE="Times New Roman">&#273;</FONT>&atilde; ghi&nbsp;? L&agrave;m th&#7871; n&agrave;o ng<FONT FACE="Times New Roman">&#259;n c&#7843;n hai ti&#7871;n tr</FONT>&igrave;nh c&ugrave;ng <FONT FACE="Times New Roman">&#273;&#7891;ng th&#7901;ighi d&#7919; li&#7879;u v</FONT>&agrave;o v&ugrave;ng nh&#7899; chung&nbsp;?…R&otilde; r&agrave;ng v&ugrave;ng nh&#7899; chia s&#7867; c&#7847;n <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c b&#7843;o v&#7879; b&#7857;ng nh&#7919;ng c&#417; ch&#7871; <FONT FACE="Times New Roman">&#273;&#7891;ng b&#7897; hóa thích h&#7907;p.</FONT><I>.</I> </font> </P>
<P ALIGN="JUSTIFY"><font color="#000066">M&#7897;t khuy&#7871;t <FONT FACE="Times New Roman">&#273;i&#7875;m c&#7911;a ph</FONT>&#432;&#417;ng ph&aacute;p li&ecirc;n l&#7841;c n&agrave;y l&agrave; kh&ocirc;ng th&#7875; &aacute;p d&#7909;ng hi&#7879;u qu&#7843; trong c&aacute;c h&#7879; ph&acirc;n t&aacute;n ,
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7875; trao &#273;&#7893;i thông tin gi&#7919;a các máy tính khác nhau.</font></P>

</FONT><B>
    </blockquote>
    <P ALIGN="JUSTIFY"><font color="#800000"><a name="thongdiep"><img border="0" src="images/read_single.gif" width="15" height="12">
    II.4. Trao </a> </font> <FONT FACE="Times New Roman"><a name="thongdiep"><font color="#800000">&#273;&#7893;i thông &#273;i&#7879;p (Message)</font></a></P>

</FONT></B> 
  <blockquote>
    <B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Gi&#7899;i thi&#7879;u:</font></B> <font color="#000066"> H&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh c&ograve;n cung c&#7845;p m&#7897;t c&#417; ch&#7871; li&ecirc;n l&#7841;c gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh kh&ocirc;ng th&ocirc;ng qua vi&#7879;c chia s&#7867; m&#7897;t t&agrave;i nguy&ecirc;n chung , m&agrave; th&ocirc;ng qua vi&#7879;c g&#7903;i th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p. &#272;&#7875; h&#7895; tr&#7907; c</FONT>&#417; ch&#7871; li&ecirc;n l&#7841;c b&#7857;ng th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p, h&#7879; &#273;i&#7873;u h</FONT>&agrave;nh cung c&#7845;p c&aacute;c h&agrave;m IPC chu&#7849;n (Interprocess communication), c&#417; b&#7843;n l&agrave; hai h&agrave;m:</font> </P>

<B>
<blockquote>
  <P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
  Send</font></B><font color="#000066">(message)&nbsp; : g&#7903;i m&#7897;t th&ocirc;ng
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;i&#7879;p</font></P>
</FONT><B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
Receive</font></B><font color="#000066">(message)&nbsp;  : nh&#7853;n m&#7897;t th&ocirc;ng
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;i&#7879;p</font></P>
</blockquote>

</FONT><P ALIGN="JUSTIFY"><font color="#000066">N&#7871;u hai ti&#7871;n tr&igrave;nh P v&agrave; Q mu&#7889;n li&ecirc;n l&#7841;c v&#7899;i nhau, c&#7847;n ph&#7843;i thi&#7871;t l&#7853;p m&#7897;t m&#7889;i li&ecirc;n k&#7871;t gi&#7919;a hai ti&#7871;n tr&igrave;nh, sau <FONT FACE="Times New Roman">&#273;ó P, Q s&#7917; d&#7909;ng các h</FONT>&agrave;m IPC th&iacute;ch h&#7907;p <FONT FACE="Times New Roman">&#273;&#7875; trao &#273;&#7893;i thông &#273;i&#7879;p, cu&#7889;i c</FONT>&ugrave;ng khi s&#7921; li&ecirc;n l&#7841;c ch&#7845;m d&#7913;t m&#7889;i li&ecirc;n k&#7871;t gi&#7919;a hai ti&#7871;n tr&igrave;nh s&#7869; b&#7883; h&#7911;y. C&oacute; nhi&#7873;u c&aacute;ch th&#7913;c <FONT FACE="Times New Roman">&#273;&#7875; th&#7921;c hi&#7879;n s&#7921; li</FONT>&ecirc;n k&#7871;t gi&#7919;a hai ti&#7871;n tr&igrave;nh v&agrave; c&agrave;i <FONT FACE="Times New Roman">&#273;&#7863;t các theo tác send&nbsp;/receive t</FONT>&#432;&#417;ng &#7913;ng : li&ecirc;n l&#7841;c tr&#7921;c ti&#7871;p hay gi&aacute;n ti&#7871;p, li&ecirc;n l&#7841;c <FONT FACE="Times New Roman">&#273;&#7891;ng b&#7897; ho&#7863;c không &#273;&#7891;ng b&#7897;&nbsp;, kí</FONT>ch th&#432;&#7899;c th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p l</FONT>&agrave; c&#7889; <FONT FACE="Times New Roman">&#273;&#7883;nh hay không … N&#7871;u các ti&#7871;n tr</FONT>&igrave;nh li&ecirc;n l&#7841;c theo ki&#7875;u li&ecirc;n k&#7871;t t&#432;&#7901;ng minh, c&aacute;c h&agrave;m Send v&agrave; Receive s&#7869; <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c c&agrave;i
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7863;t v&#7899;i tham s&#7889;&nbsp;:</font></P>

</FONT><B>
    <blockquote>
      <P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
      Send</font></B><font color="#000066">(destination, message)&nbsp; : g&#7903;i m&#7897;t th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p &#273;&#7871;n </FONT></font><I><font color="#000066">destination</font></P>

</I><B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
    Receive</font></B><font color="#000066">(source,message)&nbsp;  : nh&#7853;n m&#7897;t th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p t&#7915; </FONT></font><I><font color="#000066">source</font></P>
    </blockquote>

</I><B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Th&#7843;o lu&#7853;n:</font></B> <font color="#000066"> <FONT FACE="Times New Roman">&#272;</FONT>&#417;n v&#7883; truy&#7873;n th&ocirc;ng tin trong c&#417; ch&#7871; trao <FONT FACE="Times New Roman">&#273;&#7893;i thông &#273;i&#7879;p l</FONT>&agrave; m&#7897;t th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p, do &#273;ó các ti&#7871;n tr</FONT>&igrave;nh c&oacute; th&#7875; trao
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7893;i d&#7919; li&#7879;u &#7903; d&#7841;ng có c&#7845;u trúc.</font> 

</FONT> </P><B>
    </blockquote>
    <P ALIGN="JUSTIFY"><font color="#800000"><a name="sockets"><img border="0" src="images/read_single.gif" width="15" height="12">
    II.5. Sockets</a></font></P></B> 
  <blockquote>
    <B>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Gi&#7899;i thi&#7879;u:</font></B> <font color="#000066"> M&#7897;t socket l&agrave; m&#7897;t thi&#7871;t b&#7883; truy&#7873;n th&ocirc;ng hai chi&#7873;u t&#432;&#417;ng t&#7921; nh&#432; t&#7853;p tin, ch&uacute;ng ta c&oacute; th&#7875; <FONT FACE="Times New Roman">&#273;&#7885;c hay ghi l</FONT>&ecirc;n n&oacute;, tuy nhi&ecirc;n m&#7895;i socket l&agrave; m&#7897;t th&agrave;nh ph&#7847;n trong m&#7897;t m&#7889;i n&#7889;i n&agrave;o <FONT FACE="Times New Roman">&#273;ó gi&#7919;a các máy tr</FONT>&ecirc;n m&#7841;ng m&aacute;y t&iacute;nh v&agrave; c&aacute;c thao t&aacute;c <FONT FACE="Times New Roman">&#273;&#7885;c/ghi chính l</FONT>&agrave; s&#7921; trao <FONT FACE="Times New Roman">&#273;&#7893;i d&#7919; li&#7879;u gi&#7919;a các &#7913;ng d&#7909;ng tr</FONT>&ecirc;n nhi&#7873;u m&aacute;y kh&aacute;c nhau.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">S&#7917; d&#7909;ng socket c&oacute; th&#7875; m&ocirc; ph&#7887;ng hai ph&#432;&#417;ng th&#7913;c li&ecirc;n l&#7841;c trong th&#7921;c t&#7871;&nbsp;: li&ecirc;n l&#7841;c th&#432; t&iacute;n (socket <FONT FACE="Times New Roman">&#273;óng vai tr</FONT>&ograve; b&#432;u c&#7909;c) v&agrave; li&ecirc;n l&#7841;c <FONT FACE="Times New Roman">&#273;i&#7879;n tho&#7841;i (socket &#273;óng vai tr</FONT>&ograve; t&#7893;ng <FONT FACE="Times New Roman">&#273;</FONT>&agrave;i) .</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">C&aacute;c thu&#7897;c t&iacute;nh c&#7911;a socket:</font></P><blockquote>

<U><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">Domaine:</font></U> <font color="#000066"> <FONT FACE="Times New Roman">&#273;&#7883;nh  ngh&#297;a d&#7841;ng th&#7913;c &#273;&#7883;a ch&#7881; v</FONT>&agrave; c&aacute;c nghi th&#7913;c s&#7917; d&#7909;ng. C&oacute; nhi&#7873;u domaines, v&iacute; d&#7909;  UNIX, INTERNET, XEROX_NS, ...</font></P>
<P ALIGN="JUSTIFY"> <U><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10"></font></U><font color="#000066"><U>Type</U>: <FONT FACE="Times New Roman">&#273;&#7883;nh ngh&#297;a các &#273;&#7863;c &#273;i&#7875;m li</FONT>&ecirc;n l&#7841;c:</font></P><DIR>

<H4><font color="#000066">a) S&#7921; tin c&#7853;y</font></H4>
<H4><font color="#000066">b) S&#7921; b&#7843;o to&agrave;n th&#7913; t&#7921; d&#7919; li&#7879;u</font></H4>
<H4><font color="#000066">c) L&#7863;p l&#7841;i d&#7919; li&#7879;u</font></H4>
<H4><font color="#000066">d) Ch&#7871; </font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7897; n&#7889;i k&#7871;t</font></H4>
</FONT><H4><font color="#000066">e) B&#7843;o to&agrave;n gi&#7899;i h&#7841;n th&ocirc;ng
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;i&#7879;p</font></H4>
</FONT><H4><font color="#000066">f) Kh&#7843; n</font><FONT FACE="Times New Roman"><font color="#000066">&#259;ng g&#7903;i thông &#273;i&#7879;p kh&#7849;n</font></H4></DIR>
</blockquote>

<P ALIGN="JUSTIFY"><font color="#000066">&#272;&#7875; th&#7921;c hi&#7879;n li</font></FONT><font color="#000066">&ecirc;n l&#7841;c b&#7857;ng socket, c&#7847;n ti&#7871;n h&agrave;nh c&aacute;c thao t&aacute;c&nbsp;::</font></P><blockquote>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">T&#7841;o l&#7853;p hay m&#7903; m&#7897;t socket</font></P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">G&#7855;n k&#7871;t m&#7897;t socket v&#7899;i m&#7897;t
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7883;a ch&#7881;</font></P>
</FONT><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10"></font><font color="#000066">Li&ecirc;n l&#7841;c : c&oacute; hai ki&#7875;u li&ecirc;n l&#7841;c t&ugrave;y thu&#7897;c v&agrave;o ch&#7871;
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7897; n&#7889;i k&#7871;t:</font></P>

</FONT><I><p ALIGN="JUSTIFY"><b><font color="#000066">&nbsp;&nbsp;&nbsp; <U>a) Li&ecirc;n l&#7841;c trong ch&#7871; <FONT FACE="Times New Roman">&#273;&#7897; không li</FONT>&ecirc;n k&#7871;t
</U> 
</font></b> </I><font color="#000066"><b>:</b> li&ecirc;n l&#7841;c theo h&igrave;nh th&#7913;c h&#7897;p th&#432;:</font></p>
<blockquote>
  <blockquote>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
hai ti&#7871;n tr&igrave;nh li&ecirc;n l&#7841;c v&#7899;i nhau kh&ocirc;ng k&#7871;t n&#7889;i tr&#7921;c ti&#7871;p</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
m&#7895;i th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p ph&#7843;i k</FONT>&egrave;m theo <FONT FACE="Times New Roman">&#273;&#7883;a ch&#7881; ng</FONT>&#432;&#7901;i nh&#7853;n.</font> </P>
  </blockquote>
</blockquote>
<DIR>

<P ALIGN="JUSTIFY"><font color="#000066">H&igrave;nh th&#7913;c li&ecirc;n l&#7841;c n&agrave;y c&oacute; <FONT FACE="Times New Roman">&#273;&#7863;c &#273;i&#7875;m &#273;</FONT>&#432;&#7907;c&nbsp;:</font> </P></DIR>

<blockquote>
  <blockquote>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
ng&#432;&#7901;i g&#7903;i kh&ocirc;ng ch&#7855;c ch&#7855;n th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p c&#7911;a h&#7885;c &#273;</FONT>&#432;&#7907;c
g&#7903;i <FONT FACE="Times New Roman">&#273;&#7871;n ng</FONT>&#432;&#7901;i nh&#7853;n,</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
m&#7897;t th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p có th&#7875; &#273;</FONT>&#432;&#7907;c g&#7903;i nhi&#7873;u l&#7847;n,</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
hai th&ocirc;ng <FONT FACE="Times New Roman">&#273;i&#7879;p &#273;</FONT>&#432;&#7907; g&#7903;i theo m&#7897;t th&#7913; t&#7921; n&agrave;o <FONT FACE="Times New Roman">&#273;ó có th&#7875; &#273;&#7871;n tay ng</FONT>&#432;&#7901;i nh&#7853;n theo m&#7897;t th&#7913; t&#7921; kh&aacute;c.</font> </P>
  </blockquote>
</blockquote>
<DIR>

<P ALIGN="JUSTIFY"><font color="#000066">M&#7897;t ti&#7871;n tr&igrave;nh sau khi <FONT FACE="Times New Roman">&#273;</FONT>&atilde; m&#7903; m&#7897;t socket c&oacute; th&#7875; s&#7917; d&#7909;ng n&oacute;  <FONT FACE="Times New Roman">&#273;&#7875; li</FONT>&ecirc;n l&#7841;c v&#7899;i nhi&#7873;u ti&#7871;n tr&igrave;nh kh&aacute;c nhau nh&#7901; s&#7917; hai primitive <I>send</I> v&agrave; <I>receive</I>.</font></P>
<I></DIR>

<p ALIGN="JUSTIFY"><b><font color="#000066">&nbsp;&nbsp;&nbsp; <U>b) Li&ecirc;n l&#7841;c trong ch&#7871; <FONT FACE="Times New Roman">&#273;&#7897; n&#7889;i k&#7871;t</FONT></U></font></b></I><font color="#000066"><b>:</b>&nbsp;</font></p>
<blockquote>
  <p ALIGN="JUSTIFY"><font face="Times New Roman" color="#000066">&nbsp;&nbsp;&nbsp;
  M&#7897;t li&ecirc;n k&#7871;t &#273;&#432;&#7907;c th&agrave;nh l&#7853;p gi&#7919;a hai ti&#7871;n tr&igrave;nh.
  Tr&#432;&#7899;c khi m&#7889;i li&ecirc;n k&#7871;t n&agrave;y &#273;&#432;&#7907;c thi&#7871;t l&#7853;p, m&#7897;t trong hai ti&#7871;n tr&igrave;nh ph&#7843;i
  &#273;&#7907;i có m&#7897;t ti&#7871;n tr&igrave;nh kh&aacute;c y&ecirc;u c&#7847;u k&#7871;t n&#7889;i.C&oacute; th&#7875; s&#7917; d&#7909;ng socket
  &#273;&#7875; li&ecirc;n l&#7841;c theo m&ocirc; h&igrave;nh client-serveur. Trong m&ocirc; h&igrave;nh n&agrave;y, server s&#7917; d&#7909;ng l&#7901;i g&#7885;i h&#7879; th&#7889;ng
  listen v&agrave; accept &#273;&#7875; n&#7889;i k&#7871;t v&#7899;i client, sau &#273;ó , client v&agrave; server c&oacute; th&#7875; trao
  &#273;&#7893;i thông tin b&#7857;ng cách s&#7917; d&#7909;ng các primitive send
  v&agrave; receive.</font></p>
</blockquote>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
H&#7911;y m&#7897;t socket&nbsp;</font></P></blockquote>

<U><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/more1.gif" width="14" height="14">

</U>

<U>V&iacute; d&#7909;&nbsp;:

</U></font></P><DIR>

<P ALIGN="JUSTIFY"><font color="#000066">Trong nghi th&#7913;c truy&#7873;n th&ocirc;ng TCP, m&#7895;i m&#7889;i n&#7889;i gi&#7919;a hai m&aacute;y t&iacute;nh <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c x&aacute;c <FONT FACE="Times New Roman">&#273;&#7883;nh b&#7903;i m&#7897;t port, khái ni&#7879;m port &#7903; &#273;ây không ph&#7843;i l</FONT>&agrave; m&#7897;t c&#7893;ng giao ti&#7871;p tr&ecirc;n thi&#7871;t b&#7883; v&#7853;t l&yacute; m&agrave; ch&#7881; l&agrave; m&#7897;t kh&aacute;i ni&#7879;m logic trong c&aacute;ch nh&igrave;n c&#7911;a ng&#432;&#7901;i l&#7853;p tr&igrave;nh, m&#7895;i port <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c t&#432;&#417;ng &#7913;ng v&#7899;i m&#7897;t s&#7889; nguy&ecirc;n d&#432;&#417;ng.</font> </P>

<P ALIGN="center"><img border="0" src="images/hinh3.4.jpg" width="283" height="113"> </P>
</dir>
  </blockquote>

<B><P ALIGN="CENTER"><font color="#000066">H&igrave;nh 3.4</font></B> <font color="#000066"> C&aacute;c socket v&agrave; port trong m&#7889;i n&#7889;i TCP.</font></P>
  <blockquote>
    <blockquote>

<P ALIGN="JUSTIFY"><font color="#000066">H&igrave;nh 3.4 minh h&#7885;a m&#7897;t c&aacute;ch giao ti&#7871;p gi&#7919;a hai m&aacute;y t&iacute;nh trong nghi th&#7913;c truy&#7873;n th&ocirc;ng TCP. M&aacute;y A t&#7841;o ra m&#7897;t socket v&agrave; k&#7871;t bu&#7897;c (bind) socket n&#7847;y v&#7899;i m&#7897;t port X (t&#7913;c l&agrave; m&#7897;t s&#7889; nguy&ecirc;n d&#432;&#417;ng c&oacute; &yacute; ngh&#297;a c&#7909;c b&#7897; trong m&aacute;y A), trong khi <FONT FACE="Times New Roman">&#273;ó máy B t&#7841;o m&#7897;t socket khác v</FONT>&agrave; m&oacute;c v&agrave;o (connect) port X trong m&aacute;y A.</font></P>
    </blockquote>

<B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/bulletjock.gif" width="18" height="18">Th&#7843;o lu&#7853;n:</font></B> <font color="#000066"> C&#417; ch&#7871; socket c&oacute; th&#7875; s&#7917; d&#7909;ng <FONT FACE="Times New Roman">&#273;&#7875; chu&#7849;n hoá m&#7889;i li</FONT>&ecirc;n l&#7841;c gi&#7919;a c&aacute;c ti&#7871;n tr&igrave;nh v&#7889;n kh&ocirc;ng  li&ecirc;n h&#7879; v&#7899;i nhau, v&agrave; c&oacute; th&#7875; ho&#7841;t
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7897;ng trong nh&#7919;ng h&#7879; th&#7889;ng khác nhau.</font> 

</FONT> </P><P ALIGN="JUSTIFY">&nbsp; </P>
  </blockquote>
  <B><P ALIGN="JUSTIFY"><font color="#FF0000" face="Verdana" size="4"><a name="dongbo">III. Nhu c&#7847;u
  &#273;&#7891;ng b&#7897; hóa (synchronisation)</a></font></P>

</B>
<P ALIGN="JUSTIFY"><font color="#000066">&nbsp;&nbsp;&nbsp; Trong m&#7897;t h&#7879; th&#7889;ng cho ph&eacute;p c&aacute;c ti&#7871;n tr&igrave;nh li&ecirc;n l&#7841;c v&#7899;i nhau, bao gi&#7901; h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh c&#361;ng c&#7847;n cung c&#7845;p k&egrave;m theo nh&#7919;ng c&#417; ch&#7871; <FONT FACE="Times New Roman">&#273;&#7891;ng b&#7897; hóa &#273;&#7875; b&#7843;o &#273;&#7843;m ho&#7841;t &#273;&#7897;ng c&#7911;a các ti&#7871;n tr</FONT>&igrave;nh <FONT FACE="Times New Roman">&#273;&#7891;ng h</FONT>&agrave;nh kh&ocirc;ng t&aacute;c <FONT FACE="Times New Roman">&#273;&#7897;ng sai l&#7879;ch &#273;&#7871;n nhau v</FONT>&igrave; c&aacute;c l&yacute; do sau
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;ây:</font></P>

</FONT><B><P ALIGN="JUSTIFY"><font color="#000066"><a name="docquyen"><img border="0" src="images/read_single.gif" width="15" height="12"> 
      </a> </font> <a name="docquyen"> <font color="#800000">III.1. Y&ecirc;u c&#7847;u
      </font> <FONT FACE="Times New Roman"><font color="#800000">&#273;&#7897;c quy&#7873;n truy xu&#7845;t (Mutual exclusion)</font>

</FONT>
      </a></P>
      <DIR>

</B><P ALIGN="JUSTIFY"><font color="#000066">C&aacute;c t&agrave;i nguy&ecirc;n trong h&#7879; th&#7889;ng <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c ph&acirc;n th&agrave;nh hai lo&#7841;i: t&agrave;i nguy&ecirc;n c&oacute; th&#7875; chia s&#7867;  cho ph&eacute;p nhi&#7873;u ti&#7871;n tr&igrave;nh <FONT FACE="Times New Roman">&#273;&#7891;ng th&#7901;i truy xu&#7845;t, v</FONT>&agrave; t&agrave;i nguy&ecirc;n kh&ocirc;ng th&#7875; chia s&#7867;  ch&#7881; ch&#7845;p nh&#7853;n m&#7897;t ( hay m&#7897;t s&#7889; l&#432;&#7907;ng h&#7841;n ch&#7871; ) ti&#7871;n tr&igrave;nh s&#7917; d&#7909;ng t&#7841;i m&#7897;t th&#7901;i <FONT FACE="Times New Roman">&#273;i&#7875;m. Tính không th&#7875; chia s&#7867; c&#7911;a t</FONT>&agrave;i nguy&ecirc;n th&#432;&#7901;ng c&oacute; ngu&#7891;n g&#7889;c t&#7915; m&#7897;t trong hai nguy&ecirc;n nh&acirc;n sau
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;ây:</font> </P><DIR>
<DIR>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
&#272;&#7863;c tính c&#7845;u t&#7841;o ph&#7847;n c&#7913;ng c&#7911;a t</font></FONT><font color="#000066">&agrave;i nguy&ecirc;n kh&ocirc;ng cho ph&eacute;p chia s&#7867;.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066" FACE="Times New Roman"><img border="0" src="images/red.gif" width="7" height="10">
</font><font color="#000066">N&#7871;u nhi&#7873;u ti&#7871;n tr&igrave;nh s&#7917; d&#7909;ng t&agrave;i nguy&ecirc;n <FONT FACE="Times New Roman">&#273;&#7891;ng th&#7901;i, có</FONT> nguy c&#417; x&#7843;y ra c&aacute;c k&#7871;t qu&#7843; kh&ocirc;ng d&#7921; <FONT FACE="Times New Roman">&#273;oán &#273;</FONT>&#432;&#7907;c do ho&#7841;t <FONT FACE="Times New Roman">&#273;&#7897;ng c&#7911;a các ti&#7871;n tr</FONT>&igrave;nh tr&ecirc;n t&agrave;i nguy&ecirc;n &#7843;nh h&#432;&#7903;ng l&#7851;n nhau.</font></P></DIR>
</DIR>

<FONT FACE="Times New Roman"><P ALIGN="JUSTIFY"><font color="#000066">&#272;&#7875; gi&#7843;i quy&#7871;t v&#7845;n &#273;&#7873;, c&#7847;n b&#7843;o &#273;&#7843;m ti&#7871;n tr</font></FONT><font color="#000066">&igrave;nh <FONT FACE="Times New Roman">&#273;&#7897;c quy&#7873;n truy xu&#7845;t t</FONT>&agrave;i nguy&ecirc;n, ngh&#297;a l&agrave; h&#7879; th&#7889;ng ph&#7843;i ki&#7875;m so&aacute;t sao cho t&#7841;i m&#7897;t th&#7901;i <FONT FACE="Times New Roman">&#273;i&#7875;m, ch&#7881; có m&#7897;t ti&#7871;n tr</FONT>&igrave;nh <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c quy&#7873;n truy xu&#7845;t m&#7897;t t&agrave;i nguy&ecirc;n kh&ocirc;ng th&#7875; chia s&#7867;.</font></P>
<B>
</DIR>
      <P ALIGN="JUSTIFY"><font color="#000066"><a name="yeucau"><img border="0" src="images/read_single.gif" width="15" height="12">
      </a>
      </font><a name="yeucau"><font color="#800000">III.2. Y&ecirc;u c&#7847;u ph&#7889;i h&#7907;p (Synchronization)</font></a></P>
</B><DIR>

<P ALIGN="JUSTIFY"><font color="#000066">Nh&igrave;n chung, m&#7889;i t&#432;&#417;ng quan v&#7873; t&#7889;c <FONT FACE="Times New Roman">&#273;&#7897; th&#7921;c hi&#7879;n c&#7911;a hai ti&#7871;n tr</FONT>&igrave;nh trong h&#7879; th&#7889;ng l&agrave; kh&ocirc;ng th&#7875; bi&#7871;t tr&#432;&#7899;c, v&igrave; <FONT FACE="Times New Roman">&#273;i&#7873;u n</FONT>&agrave;y ph&#7909; thu&#7897;c v&agrave;o nhi&#7873;u y&#7871;u t&#7889; <FONT FACE="Times New Roman">&#273;&#7897;n</FONT>g nh&#432; t&#7847;n su&#7845;t x&#7843;y ra c&aacute;c ng&#7855;t c&#7911;a t&#7915;ng ti&#7871;n tr&igrave;nh, th&#7901;i gian ti&#7871;n tr&igrave;nh <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c c&#7845;p ph&aacute;t b&#7897; x&#7917; l&yacute;… C&oacute; th&#7875; n&oacute;i r&#7857;ng c&aacute;c ti&#7871;n tr&igrave;nh ho&#7841;t <FONT FACE="Times New Roman">&#273;&#7897;ng không &#273;&#7891;ng b&#7897; v&#7899;i nhau. Nh</FONT>&#432; ng c&oacute; nh&#7919;ng t&igrave;nh hu&#7889;ng c&aacute;c ti&#7871;n tr&igrave;nh c&#7847;n h&#7907;p t&aacute;c trong vi&#7879;c ho&agrave;n th&agrave;nh t&aacute;c v&#7909;, khi <FONT FACE="Times New Roman">&#273;ó c&#7847;n ph&#7843;i &#273;&#7891;ng b&#7897; hóa ho&#7841;t &#273;&#7897;ng c&#7911;a các ti&#7871;n tr</FONT>&igrave;nh , v&iacute; d&#7909; m&#7897;t ti&#7871;n tr&igrave;nh ch&#7881; c&oacute; th&#7875; x&#7917; l&yacute; n&#7871;u m&#7897;t ti&#7871;n tr&igrave;nh kh&aacute;c <FONT FACE="Times New Roman">&#273;</FONT>&atilde; k&#7871;t th&uacute;c m&#7897;t c&ocirc;ng vi&#7879;c n&agrave;o
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;ó …</font></P>
</FONT><B>
</DIR>
<P ALIGN="JUSTIFY"><font color="#000066"><a name="baitoan"><img border="0" src="images/read_single.gif" width="15" height="12">
 </a>
</font><a name="baitoan"><font color="#800000">III.3. B&agrave;i to&aacute;n </font> <FONT FACE="Times New Roman"><font color="#800000">&#273;&#7891;ng b&#7897; hoá</font> 

</FONT>

</a> </P>

</B><B><I><P ALIGN="JUSTIFY"><font color="#000066">&nbsp;&nbsp;&nbsp; <img border="0" src="images/symble_asterisk_blue.gif" width="13" height="14">
      III.3.1. V&#7845;n </font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7873; tranh &#273;o&#7841;t &#273;i&#7873;u khi&#7875;n (race condition)</font></P><DIR>

</FONT></I>

</B><P ALIGN="JUSTIFY"><font color="#000066">Gi&#7843; s&#7917; c&oacute; hai ti&#7871;n tr&igrave;nh P<SUB>1</SUB> v&agrave; P<SUB>2</SUB> th&#7921;c hi&#7879;n c&ocirc;ng vi&#7879;c c&#7911;a c&aacute;c k&#7871; to&aacute;n, v&agrave; c&ugrave;ng chia s&#7867; m&#7897;t v&ugrave;ng nh&#7899; chung l&#432;u tr&#7919; bi&#7871;n <I><FONT FACE="Courier New" SIZE=2>taikhoan</I></FONT> ph&#7843;n &aacute;nh th&ocirc;ng tin v&#7873; t&agrave;i kho&#7843;n. M&#7895;i ti&#7871;n tr&igrave;nh mu&#7889;n r&uacute;t m&#7897;t kho&#7843;n ti&#7873;n <I><FONT FACE="Courier New" SIZE=2>tienrut</I></FONT> t&#7915; t&agrave;i kho&#7843;n:</font></P><DIR>
<DIR>
<DIR>

<FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">if (taikhoan - tienrut &gt;=0)</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">&nbsp;&nbsp;&nbsp; taikhoan = taikhoan - tienrut;</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">else</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">&nbsp;&nbsp;&nbsp; error(«&nbsp;khong the rut tien&nbsp;!&nbsp;»);</font></P></DIR>
</DIR>
</DIR>

</FONT><P ALIGN="JUSTIFY"><font color="#000066">Gi&#7843; s&#7917; trong t&agrave;i kho&#7843;n hi&#7879;n c&ograve;n 800, P<SUB>1</SUB> mu&#7889;n r&uacute;t 500 v&agrave; P<SUB>2</SUB> mu&#7889;n r&uacute;t 400. N&#7871;u x&#7843;y ra t&igrave;nh hu&#7889;ng nh&#432; sau&nbsp;:</font> </P><DIR>
<DIR>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Sau khi <FONT FACE="Times New Roman">&#273;</FONT>&atilde; ki&#7875;m tra <FONT FACE="Times New Roman">&#273;i&#7873;u ki&#7879;n </FONT><FONT FACE="Courier New" SIZE=3>(taikhoan - tienrut &gt;=0)</FONT><FONT FACE="Arial"> </FONT>v&agrave; nh&#7853;n k&#7871;t qu&#7843; l&agrave; 300, P<SUB>1</SUB> h&#7871;t th&#7901;i gian x&#7917; l&yacute; m&agrave; h&#7879; th&#7889;ng cho ph&eacute;p, h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh c&#7845;p ph&aacute;t CPU cho P<SUB>2</SUB>.</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
P<SUB>2</SUB> ki&#7875;m tra c&ugrave;ng <FONT FACE="Times New Roman">&#273;i&#7873;u ki&#7879;n tr</FONT>&ecirc;n, nh&#7853;n <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c k&#7871;t qu&#7843; l&agrave; 400 (do  P<SUB>1</SUB> v&#7851;n ch&#432;a r&uacute;t ti&#7873;n) v&agrave; r&uacute;t 400. Gi&aacute; tr&#7883; c&#7911;a <I>taikhoan</I> <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c c&#7853;p nh&#7853;t l&#7841;i l&agrave; 400.</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Khi P<SUB>1</SUB> <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c t&aacute;i k&iacute;ch ho&#7841;t v&agrave; ti&#7871;p t&#7909;c x&#7917; l&yacute;, n&oacute; s&#7869; kh&ocirc;ng ki&#7875;m tra l&#7841;i <FONT FACE="Times New Roman">&#273;i&#7873;u ki&#7879;n </FONT><FONT FACE="Courier New" SIZE=3>(taikhoan - tienrut &gt;=0)-</FONT>v&igrave; <FONT FACE="Times New Roman">&#273;</FONT>&atilde; ki&#7875;m tra trong l&#432;&#7907;t x&#7917; l&yacute; tr&#432;&#7899;c- m&agrave; th&#7921;c hi&#7879;n r&uacute;t ti&#7873;n. Gi&aacute; tr&#7883; c&#7911;a <I>taikhoan</I> s&#7869; l&#7841;i <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c c&#7853;p nh&#7853;t th&agrave;nh -100. T&igrave;nh hu&#7889;ng l&#7895;i x&#7843;y ra&nbsp;!</font> </P></DIR>
</DIR>

<P ALIGN="JUSTIFY"><font color="#000066">C&aacute;c t&igrave;nh hu&#7889;ng t&#432;&#417;ng t&#7921; nh&#432; th&#7871; - c&oacute; th&#7875; x&#7843;y ra khi c&oacute; nhi&#7873;u h&#417;n hai ti&#7871;n tr&igrave;nh <FONT FACE="Times New Roman">&#273;&#7885;c v</FONT>&agrave; ghi d&#7919; li&#7879;u tr&ecirc;n c&ugrave;ng m&#7897;t v&ugrave;ng nh&#7899; chung, v&agrave; k&#7871;t qu&#7843; ph&#7909; thu&#7897;c v&agrave;o s&#7921; <FONT FACE="Times New Roman">&#273;i&#7873;u ph&#7889;i ti&#7871;n tr</FONT>&igrave;nh c&#7911;a h&#7879; th&#7889;ng- <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c g&#7885;i l&agrave; c&aacute;c t&igrave;nh hu&#7889;ng tranh <FONT FACE="Times New Roman">&#273;o&#7841;t &#273;i&#7873;u khi&#7875;n</FONT></font><I> <font color="#000066"> (race condition) .</font></P>

<B>
</DIR>
<P ALIGN="JUSTIFY"><font color="#000066">&nbsp;&nbsp;&nbsp; <img border="0" src="images/symble_asterisk_blue.gif" width="13" height="14">
III.3.2. Mi&#7873;n g</font><FONT FACE="Times New Roman"><font color="#000066">&#259;ng (critical section)</font></P>

</FONT>

</B></I><DIR>

<FONT FACE="Times New Roman"><P ALIGN="JUSTIFY"><font color="#000066">&#272;&#7875; ng&#259;n ch&#7863;n các t</font></FONT><font color="#000066">&igrave;nh hu&#7889;ng l&#7895;i c&oacute; th&#7875; n&#7843;y sinh khi c&aacute;c ti&#7871;n tr&igrave;nh truy xu&#7845;t <FONT FACE="Times New Roman">&#273;&#7891;ng th&#7901;i m&#7897;t t</FONT>&agrave;i nguy&ecirc;n kh&ocirc;ng th&#7875; chia s&#7867;, c&#7847;n ph&#7843;i &aacute;p <FONT FACE="Times New Roman">&#273;&#7863;t m&#7897;t s&#7921; truy xu&#7845;t &#273;&#7897;c quy&#7873;n tr</FONT>&ecirc;n t&agrave;i nguy&ecirc;n <FONT FACE="Times New Roman">&#273;ó&nbsp;: khi m&#7897;t ti&#7871;n tr</FONT>&igrave;nh <FONT FACE="Times New Roman">&#273;ang s&#7917; d&#7909;ng t</FONT>&agrave;i nguy&ecirc;n, th&igrave; nh&#7919;ng ti&#7871;n tr&igrave;nh kh&aacute;c kh&ocirc;ng <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c truy xu&#7845;t <FONT FACE="Times New Roman">&#273;&#7871;n t</FONT>&agrave;i nguy&ecirc;n.</font> </P>
<FONT FACE="Times New Roman"><P ALIGN="JUSTIFY"><font color="#000066">&#272;o&#7841;n ch</font></FONT><font color="#000066">&#432;&#417;ng tr&igrave;nh trong <FONT FACE="Times New Roman">&#273;ó có kh&#7843; n&#259;ng x&#7843;y ra các mâu thu&#7851;n truy xu&#7845;t tr</FONT>&ecirc;n t&agrave;i nguy&ecirc;n chung <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c g&#7885;i l&agrave; <I>mi&#7873;n g<FONT FACE="Times New Roman">&#259;ng (critical section)</FONT></I>. Trong v&iacute; d&#7909; tr&ecirc;n, <FONT FACE="Times New Roman">&#273;o&#7841;n m</FONT>&atilde;&nbsp;:</font> </P><DIR>
<DIR>
<DIR>
<DIR>

<FONT FACE="Courier New" SIZE=2><P ALIGN="JUSTIFY"><font color="#000066">if (taikhoan - tienrut &gt;=0)</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">taikhoan = taikhoan - tienrut;</font></P></DIR>
</DIR>
</DIR>
</DIR>

</FONT><P ALIGN="JUSTIFY"><font color="#000066">c&#7911;a m&#7895;i ti&#7871;n tr&igrave;nh t&#7841;o th&agrave;nh m&#7897;t mi&#7873;n g</font><FONT FACE="Times New Roman"><font color="#000066">&#259;ng.</font></P>
</FONT><P ALIGN="JUSTIFY"><font color="#000066">C&oacute; th&#7875; gi&#7843;i quy&#7871;t v&#7845;n <FONT FACE="Times New Roman">&#273;&#7873; mâu thu&#7851;n truy xu&#7845;t n&#7871;u có th&#7875; b&#7843;o &#273;&#7843;m t&#7841;i m&#7897;t th&#7901;i &#273;i&#7875;m ch&#7881; có duy nh&#7845;t m&#7897;t ti&#7871;n tr</FONT>&igrave;nh <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c x&#7917; l&yacute; l&#7879;nh trong mi&#7873;n g</font><FONT FACE="Times New Roman"><font color="#000066">&#259;ng.</font></P>
</FONT><P ALIGN="JUSTIFY"><font color="#000066">M&#7897;t ph&#432;&#417;ng ph&aacute;p gi&#7843;i quy&#7871;t t&#7889;t b&agrave;i to&aacute;n mi&#7873;n g<FONT FACE="Times New Roman">&#259;ng c&#7847;n th</FONT>&otilde;a m&atilde;n 4
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;i&#7873;u ki&#7879;n sau&nbsp;:</font></P><DIR>
<DIR>

</FONT><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Kh&ocirc;ng c&oacute; hai ti&#7871;n tr&igrave;nh c&ugrave;ng &#7903; trong mi&#7873;n g<FONT FACE="Times New Roman">&#259;ng c</FONT>&ugrave;ng l&uacute;c.</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Kh&ocirc;ng c&oacute; gi&#7843; thi&#7871;t n&agrave;o <FONT FACE="Times New Roman">&#273;&#7863;t ra cho s&#7921; li</FONT>&ecirc;n h&#7879; v&#7873; t&#7889;c <FONT FACE="Times New Roman">&#273;&#7897; c&#7911;a các ti&#7871;n tr</FONT>&igrave;nh, c&#361;ng nh&#432; v&#7873; s&#7889; l&#432;&#7907;ng b&#7897; x&#7917; l&yacute; trong h&#7879; th&#7889;ng.</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
M&#7897;t ti&#7871;n tr&igrave;nh t&#7841;m d&#7915;ng b&ecirc;n ngo&agrave;i mi&#7873;n g<FONT FACE="Times New Roman">&#259;ng không &#273;</FONT>&#432;&#7907;c ng<FONT FACE="Times New Roman">&#259;n c&#7843;n các ti&#7871;n tr</FONT>&igrave;nh kh&aacute;c v&agrave;o mi&#7873;n g</font><FONT FACE="Times New Roman"><font color="#000066">&#259;ng.</font></P>
</FONT><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Kh&ocirc;ng c&oacute; ti&#7871;n tr&igrave;nh n&agrave;o ph&#7843;i ch&#7901; v&ocirc; h&#7841;n <FONT FACE="Times New Roman">&#273;&#7875; &#273;</FONT>&#432;&#7907;c v&agrave;o mi&#7873;n g</font><FONT FACE="Times New Roman"><font color="#000066">&#259;ng.</font></P></DIR>
</DIR>
</DIR>

</FONT><B><P ALIGN="JUSTIFY"><font color="#FF0000" size="4" face="Verdana"><a name="tomtat">IV. T&oacute;m t&#7855;t</a></font></P><DIR>

</B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/rightarrow.gif" width="6" height="12">
    M&#7897;t s&#7889; ti&#7871;n tr&igrave;nh trong h&#7879; th&#7889;ng c&oacute; nhu c&#7847;u trao <FONT FACE="Times New Roman">&#273;&#7893;i thông tin &#273;&#7875; ph&#7889;i h&#7907;p ho&#7841;t &#273;&#7897;ng, do m&#7895;i ti&#7871;n tr</FONT>&igrave;nh c&oacute; m&#7897;t kh&ocirc;ng gian <FONT FACE="Times New Roman">&#273;&#7883;a ch&#7881; &#273;&#7897;c l&#7853;p n</FONT>&ecirc;n vi&ecirc;c li&ecirc;n l&#7841;c ch&#7881; c&oacute; th&#7875; th&#7921;c hi&#7879;n th&ocirc;ng qua c&aacute;c c&#417; ch&#7871; do h&#7879; <FONT FACE="Times New Roman">&#273;i&#7873;u h</FONT>&agrave;nh cung c&#7845;p.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/rightarrow.gif" width="6" height="12">
M&#7897;t s&#7889; c&#417; ch&#7871; trao <FONT FACE="Times New Roman">&#273;&#7893;i thông tin gi&#7919;a các ti&#7871;n tr</FONT>&igrave;nh&nbsp;:</font></P><DIR>

<I><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
T&iacute;n hi&#7879;u</font></I><font color="#000066">&nbsp;: th&ocirc;ng b&aacute;o s&#7921; x&#7843;y ra c&#7911;a m&#7897;t s&#7921; ki&#7879;n</font></P>
<I><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Pipe</font></I><font color="#000066">&nbsp;: truy&#7873;n d&#7919; li&#7879;u kh&ocirc;ng c&#7845;u tr&uacute;c</font></P>
<I><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
V&ugrave;ng nh&#7899; chia s&#7867;&nbsp;</font></I><font color="#000066">: cho ph&eacute;p nhi&#7873;u ti&#7871;n tr&igrave;nh truy c&#7853;p <FONT FACE="Times New Roman">&#273;&#7871;n c</FONT>&ugrave;ng m&#7897;t v&ugrave;ng nh&#7899;</font></P>
<I><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Trao <FONT FACE="Times New Roman">&#273;&#7893;i thông &#273;i&#7879;p&nbsp;</FONT></font></I><font color="#000066">: truy&#7873;n d&#7919; li&#7879;u c&oacute; c&#7845;u tr&uacute;c, c&oacute; th&#7875; v&#7853;n d&#7909;ng trong c&aacute;c</font> </P></DIR>

<P ALIGN="JUSTIFY">                                       <font color="#000066">                                       h&#7879; ph&acirc;n t&aacute;n</font></P><DIR>

<I><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/dotgreen.gif" width="9" height="9">
Socket&nbsp;</font></I><font color="#000066">: chu&#7849;n ho&aacute;n vi&#7879;c li&ecirc;n l&#7841;c gi&#7919;a c&aacute;c h&#7879; th&#7889;ng kh&aacute;c bi&#7879;t</font></P></DIR>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/rightarrow.gif" width="6" height="12">
Khi c&aacute;c ti&#7871;n tr&igrave;nh trao <FONT FACE="Times New Roman">&#273;&#7893;i thông tin, chia s&#7867; t</FONT>&agrave;i nguy&ecirc;n chung, c&#7847;n ph&#7843;i <FONT FACE="Times New Roman">&#273;&#7891;ng b&#7897; hoá ho&#7841;t &#273;&#7897;ng c&#7911;a chúng ch&#7911; y&#7871;u do y</FONT>&ecirc;u c&#7847;u
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7897;c quy&#7873;n truy xu&#7845;t ho&#7863;c ph&#7889;i h&#7907;p ho&#7841;t &#273;&#7897;ng.</font></P>

</FONT>
</DIR>

    <blockquote>
      <P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/rightarrow.gif" width="6" height="12">
      Mi&#7873;n g<FONT FACE="Times New Roman">&#259;ng l</FONT>&agrave; <FONT FACE="Times New Roman">&#273;o&#7841;n l&#7879;nh trong ch</FONT>&#432;&#417;ng tr&igrave;nh c&oacute; kh&#7843; n<FONT FACE="Times New Roman">&#259;ng phát sinh mâu thu&#7851;n truy xu&#7845;t. &#272;&#7875; không x&#7843;y ra mâu thu&#7851;n truy xu&#7845;t, c&#7847;n &#273;&#7843;m b&#7843;o t&#7841;i m&#7897;t th&#7901;i &#273;i&#7875;m ch&#7881; có m&#7897;t ti&#7871;n tr</FONT>&igrave;nh <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c v&agrave;o mi&#7873;n g</font><FONT FACE="Times New Roman"><font color="#000066">&#259;ng.</font></P>
      </blockquote>

</FONT><P ALIGN="JUSTIFY"><a name="cauhoi"><img border="0" src="images/blebul1a.gif" width="20" height="20">
    <b><font color="#FF0000" face="Times New Roman" size="4">C&#7911;ng c&#7889; bài h&#7885;c</font></b> </a> </P>
<P><font color="#000066">&nbsp;&nbsp; C&aacute;c c&acirc;u h&#7887;i c&#7847;n tr&#7843; l&#7901;i <FONT FACE="Times New Roman">&#273;</FONT>&#432;&#7907;c sau b&agrave;i h&#7885;c n&agrave;y :</font></P><DIR>
<DIR>

<P ALIGN="JUSTIFY"><font color="#000066">1. C&aacute;c c&#417; ch&#7871; trao <FONT FACE="Times New Roman">&#273;&#7893;i thông tin&nbsp;: t</FONT>&igrave;nh hu&#7889;ng s&#7917; d&#7909;ng, &#432;u, khuy&#7871;t&nbsp;?</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">2. C&aacute;c y&ecirc;u c&#7847;u </font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7891;ng b&#7897; hoá&nbsp;?</font></P></DIR>
</DIR>

</FONT><P ALIGN="JUSTIFY"><a name="baitap"><img border="0" src="images/blebul1a.gif" width="20" height="20">
    <font color="#FF0000" face="Times New Roman" size="4"><b>Bài t&#7853;p</b></font> </a> </P>
<P ALIGN="JUSTIFY"><font color="#000066">Ph&acirc;n t&iacute;ch c&aacute;c b&agrave;i to&aacute;n sau <FONT FACE="Times New Roman">&#273;ây v</FONT>&agrave; x&aacute;c <FONT FACE="Times New Roman">&#273;&#7883;nh nh&#7919;ng y</FONT>&ecirc;u c&#7847;u
</font> <FONT FACE="Times New Roman"><font color="#000066">&#273;&#7891;ng b&#7897; hoá, mi&#7873;n g&#259;ng&nbsp;:</font></P>

</FONT><B><FONT SIZE=3><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/help.gif" width="16" height="16">
 Bài 1.B&agrave;i to&aacute;n T&#7841;o ph&acirc;n t&#7917; H<SUB>2</SUB>O</font></P>

</FONT>

</B><FONT FACE="Times New Roman" SIZE=3>
    <blockquote>
      <P ALIGN="JUSTIFY"><font color="#000066">&#272;&#7891;ng b&#7897; ho&#7841;t &#273;&#7897;ng c&#7911;a m&#7897;t ph</font></FONT><font color="#000066"><FONT SIZE=3>&ograve;ng th&iacute; nghi&#7879;m s&#7917; d&#7909;ng nhi&#7873;u ti&#7871;n tr&igrave;nh </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7891;ng h</FONT><FONT SIZE=3>&agrave;nh sau </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7875; t&#7841;o các phân t&#7917; H</FONT><SUB></SUB></font><SUB><FONT SIZE=3><font color="#000066">2</font></FONT></SUB><FONT SIZE=3><font color="#000066">O:</font></P>

</FONT><B><FONT FACE="Courier New" SIZE=3>
    <blockquote>
      <P ALIGN="JUSTIFY"><font color="#000066">MakeH()
</font></FONT></B><FONT SIZE=3><font color="#000066">// M&#7895;i ti&#7871;n tr&igrave;nh MakeH t&#7841;o 1 nguy&ecirc;n t&#7917; H</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    {<br>
    &nbsp;&nbsp;&nbsp; Make-Hydro();<br>
    }</font></FONT></P>
    <P ALIGN="JUSTIFY"><FONT FACE="Courier New" SIZE=3><B><font color="#000066">MakeO() </font></B></FONT><FONT SIZE=3><font color="#000066">// M&#7895;i ti&#7871;n tr&igrave;nh MakeO t&#7841;o 1 nguy&ecirc;n t&#7917; O</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    {<br>
    &nbsp;&nbsp;&nbsp; Make-Oxy();<br>
    }</font></P>

<B><P ALIGN="JUSTIFY"><font color="#000066">MakeWater() </font></B></FONT><font color="#000066"><FONT SIZE=3>/* Ti&#7871;n tr&igrave;nh MakeWater ho&#7841;t </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7897;ng &#273;&#7891;ng h</FONT><FONT SIZE=3>&agrave;nh <BR>
    &nbsp;v&#7899;i c&aacute;c ti&#7871;n tr&igrave;nh MakeH, MakeO, ch&#7901; c&oacute; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7911;  2 H v</FONT><FONT SIZE=3>&agrave; 1 O </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7875; t&#7841;o       H</FONT><SUB></SUB></font><SUB><FONT SIZE=3><font color="#000066">2</font></FONT></SUB><FONT SIZE=3><font color="#000066">O
    */</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    {<br>
    &nbsp;&nbsp;&nbsp; while (T)<br>
    &nbsp;&nbsp;&nbsp; Make-Water(); </font></FONT><FONT SIZE=3><font color="#000066">//T&#7841;o 1 ph&acirc;n t&#7917; H<SUB>2</SUB>O</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    }</font> </P>
    </blockquote>
    </blockquote>
</FONT><FONT SIZE=3>
<B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/help.gif" width="16" height="16">
Bài 2.B&agrave;i to&aacute;n C&acirc;y c&#7847;u c&#361;</font></P>
<DIR>

</B></FONT><FONT FACE="Times New Roman" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">&#272;&#7875; tránh s&#7909;p &#273;&#7893;, ng</font></FONT><font color="#000066"><FONT SIZE=3>&#432;&#7901;i ta ch&#7881; c&oacute; cho ph&eacute;p t&#7889;i </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;a 3 xe l</FONT><FONT SIZE=3>&#432;u th&ocirc;ng </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7891;ng th&#7901;i  qua m&#7897;t cây c&#7847;u r&#7845;t c&#361;. H</FONT></font><FONT SIZE=3><font color="#000066">&atilde;y x&acirc;y d&#7921;ng th&#7911; t&#7909;c <B>ArriveBridge(int direction)</B> v&agrave; <B>ExitBridge()</B> ki&#7875;m so&aacute;t giao th&ocirc;ng tr&ecirc;n c&#7847;u sao cho :</font></P>
    <blockquote>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
T&#7841;i m&#7895;i th&#7901;i </font> </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;i&#7875;m, ch&#7881; cho phép t&#7889;i &#273;a 3 xe l</FONT><FONT SIZE=3><font color="#000066">&#432;u th&ocirc;ng tr&ecirc;n c&#7847;u.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/red.gif" width="7" height="10">
T&#7841;i m&#7895;i th&#7901;i </font> </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;i&#7875;m, ch&#7881; cho phép t&#7889;i &#273;a 3 xe l</FONT><FONT SIZE=3><font color="#000066">&#432;uth&ocirc;ng c&ugrave;ng h&#432;&#7899;ng <BR>
tr&ecirc;n c&#7847;u.</font></P>
    </blockquote>
<P ALIGN="JUSTIFY"><font color="#000066">M&#7895;i chi&#7871;c xe khi </font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;&#7871;n &#273;&#7847;u c&#7847;u s&#7869;</FONT><FONT SIZE=3>
    g&#7885;i <B>ArriveBridge(direction)</B> </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7875; ki&#7875;m tra &#273;i&#7873;u ki&#7879;n l</FONT><FONT SIZE=3>&ecirc;n c&#7847;u, v&agrave; khi </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&atilde; qua c&#7847;u </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&#432;&#7907;c s&#7869; g&#7885;i <B>ExitBridge()</B> </FONT></font><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;&#7875; báo hi&#7879;u k&#7871;t thúc.</font></P>
</FONT><FONT SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">Gi&#7843; s&#7917; ho&#7841;t
</font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;&#7897;ng c&#7911;a m&#7895;i chi&#7871;c xe &#273;</FONT><FONT SIZE=3>&#432;&#7907;c m&ocirc; t&#7843; b&#7857;ng m&#7897;t ti&#7871;n tr&igrave;nh <B>Car()</B> sau </FONT></font><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;ây:</font></P>
    <DIR>

</FONT><B><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">Car(int direction)
</font></FONT></B><font color="#000066"><FONT SIZE=3>/* <B>direction</B> x&aacute;c </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7883;nh h</FONT></font><FONT SIZE=3><font color="#000066">&#432;&#7899;ng di chuy&#7875;n c&#7911;a m&#7895;i
    chi&#7871;c xe.*/</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    {</font></FONT> </P>
    <blockquote>
      <P ALIGN="JUSTIFY"><font color="#000066">RuntoBridge(); </font><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#272;i v&#7873; phía c&#7847;u</font></FONT><B><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
      ArriveBridge(direction);</font></FONT></B><font color="#000066"><br>
      PassBridge();
</font><FONT SIZE=3><font color="#000066">// Qua c&#7847;u</font></FONT><B><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
      Exit Bridge();</font></FONT></B><font color="#000066"><br>
      RunfromBridge();
</font><font color="#000066"><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3>&#272;</FONT></font><FONT SIZE=3><font color="#000066">&atilde; qua c&#7847;u</font> </P>
      </blockquote>
</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">}</font></P>
</FONT><FONT SIZE=3></DIR>
</DIR>

<B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/help.gif" width="16" height="16">
 Bài 3. B&agrave;i to&aacute;n Qua s&ocirc;ng</font></P>
</B><DIR>

</FONT><FONT FACE="Times New Roman" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">&#272;&#7875; v</font></FONT><font color="#000066"><FONT SIZE=3>&#432;&#7907;t qua s&ocirc;ng, c&aacute;c nh&acirc;n vi&ecirc;n Microsof v&agrave; c&aacute;c Linux hacker c&ugrave;ng s&#7917; d&#7909;ng m&#7897;t b&#7871;n s&ocirc;ng v&agrave; ph&#7843;i chia s&#7867; m&#7897;t s&#7889; thuy&#7873;n </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7863;c bi&#7879;t. M&#7895;i chi&#7871;c thuy&#7873;n n</FONT><FONT SIZE=3>&agrave;y ch&#7881; cho ph&eacute;p ch&#7903; 1 l&#7847;n 4 ng&#432;&#7901;i, v&agrave; ph&#7843;i c&oacute; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7911; 4 ng</FONT><FONT SIZE=3>&#432;&#7901;i m&#7899;i kh&#7903;i h&agrave;nh </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&#432;&#7907;c. </FONT><FONT FACE="Times New Roman" SIZE=3>&#272;&#7875; b&#7843;o &#273;&#7843;m an to</FONT></font><FONT SIZE=3><font color="#000066">&agrave;n cho c&#7843; 2 ph&iacute;a, c&#7847;n tu&acirc;n th&#7911; c&aacute;c lu&#7853;t sau :</font></P><DIR>
<DIR>

<P ALIGN="JUSTIFY"><font color="#000066">a. Kh&ocirc;ng ch&#7845;p nh&#7853;n 3 nh&acirc;n vi&ecirc;n Microsoft v&agrave; 1 Linux hacker tr&ecirc;n c&ugrave;ng m&#7897;t chi&#7871;c thuy&#7873;n.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">b. Ng&#432;&#7907;c l&#7841;i, kh&ocirc;ng ch&#7845;p nh&#7853;n 3 Linux hacker v&agrave; 1 nh&acirc;n vi&ecirc;n Microsoft tr&ecirc;n c&ugrave;ng m&#7897;t chi&#7871;c thuy&#7873;n.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">c. T&#7845;t c&#7843; c&aacute;c tr&#432;&#7901;ng h&#7907;p k&#7871;t h&#7907;p kh&aacute;c
</font> </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;&#7873;u h&#7907;p pháp.</font></P>
</FONT><FONT SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">d. Thuy&#7873;n ch&#7881; kh&#7903;ih&agrave;nh khi
</font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&atilde; c&oacute; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7911; 4 h</FONT></font><FONT SIZE=3><font color="#000066">&agrave;nh kh&aacute;ch.</font></P>
</DIR>
</DIR>

<P ALIGN="JUSTIFY"><font color="#000066">C&#7847;n x&acirc;y d&#7921;ng 2 th&#7911; t&#7909;c <B>HackerArrives()</B> v&agrave; <B>EmployeeArrives()</B> 
</font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&#432;&#7907;c g&#7885;i t&#432;&#417;ng &#7913;ng b&#7903;i 1 hacker ho&#7863;c 1 nh&acirc;n vi&ecirc;n khi h&#7885; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7871;n b&#7901; sông &#273;&#7875; ki&#7875;m tra &#273;i&#7873;u ki&#7879;n có cho phép h&#7885; xu&#7889;ng thuy&#7873;n không ? Các th&#7911; t&#7909;c n</FONT><FONT SIZE=3>&agrave;y s&#7869; s&#7855;p x&#7871;p nh&#7919;ng ng&#432;&#7901;i th&iacute;ch h&#7907;p c&oacute; th&#7875; l&ecirc;n thuy&#7873;n. Nh&#7919;ng ng&#432;&#7901;i </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&atilde; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&#432;&#7907;c l&ecirc;n thuy&#7873;n khi thuy&#7873;n ch&#432;a </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7847;y s&#7869; ph&#7843;i ch&#7901; &#273;&#7871;n khi ng</FONT><FONT SIZE=3>&#432;&#7901;i th&#7913; 4 xu&#7889;ng thuy&#7873;n m&#7899;i c&oacute; th&#7875; kh&#7903;i h&agrave;nh qua s&ocirc;ng. (Kh&ocirc;ng quan t&acirc;m </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7871;n s&#7889; l</FONT><FONT SIZE=3>&#432;&#417;ng thuy&#7873;n hay vi&#7879;c thuy&#7873;n qua s&ocirc;ng r&#7891;i tr&#7903; l&#7841;i…Xem nh&#432; lu&ocirc;n c&oacute; thuy&#7873;n </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7875; s&#7855;p x&#7871;p theo các y</FONT></font><FONT SIZE=3><font color="#000066">&ecirc;u c&#7847;u h&#7907;p l&#7879;)</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">Gi&#7843; s&#7917; ho&#7841;t </font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;&#7897;ng c&#7911;a m&#7895;i hacker &#273;</FONT><FONT SIZE=3>&#432;&#7907;c m&ocirc; t&#7843; b&#7857;ng m&#7897;t ti&#7871;n tr&igrave;nh <B>Hacker()</B> sau </FONT></font><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;ây:</font></P><DIR>

</FONT><B><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">Hacker()</font></FONT></B><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    {</font> </P>
    <DIR>

<P ALIGN="JUSTIFY"><font color="#000066">RuntoRiver(); </font></FONT><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#272;i &#273;&#7871;n b&#7901; sông</font></FONT><B><font color="#000066"><br>
HackerArrives ();</font></B><FONT SIZE=3>
// Ki&#7875;m tra </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;i&#7873;u ki&#7879;n xu&#7889;ng thuy&#7873;n</font></FONT><font color="#000066"><br>
CrossRiver();
</font><FONT SIZE=3><font color="#000066">// Kh&#7903;i h&agrave;nh qua s&ocirc;ng</font></P>
    </DIR>

</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"> <font color="#000066"> }</font></P>
</FONT><FONT SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">v&agrave; ho&#7841;t
</font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;&#7897;ng c&#7911;a m&#7895;i nhân vi</FONT><FONT SIZE=3>&ecirc;n </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&#432;&#7907;c m&ocirc; t&#7843; b&#7857;ng m&#7897;t ti&#7871;n tr&igrave;nh <B>Employee()</B> sau </FONT></font><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;ây:</font></P>
</FONT><B><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">Employee()</font></FONT></B><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    {</font> </P>
    <DIR>

<P ALIGN="JUSTIFY"><font color="#000066">RuntoRiver(); </font></FONT><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#272;i &#273;&#7871;n b&#7901; sông</font></FONT><B><font color="#000066"><br>
EmployeeArrives ();</font></B><FONT SIZE=3>
// Ki&#7875;m tra </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;i&#7873;u ki&#7879;n xu&#7889;ng thuy&#7873;n</font></FONT><font color="#000066"><br>
CrossRiver();
</font><FONT SIZE=3><font color="#000066">// Kh&#7903;i h&agrave;nh qua s&ocirc;ng</font></P>
    </DIR>

</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"> <font color="#000066"> }</font></P>
</FONT><FONT SIZE=3></DIR>
</DIR>

<B><P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/help.gif" width="16" height="16">
 Bài 4. B&agrave;i to&aacute;n </font>
</B> </FONT>

<B><FONT FACE="Times New Roman" SIZE=3>&#272;i&#7873;u ph&#7889;i h</FONT><FONT SIZE=3><font color="#000066">&agrave;nh kh&aacute;ch xe bus</font></P>
 </FONT>
</B><FONT SIZE=3><DIR>

<P ALIGN="JUSTIFY"><font color="#000066">H&atilde;y t&#432;&#7903;ng t&#432;&#7907;ng b&#7841;n ch&#7883;u tr&aacute;ch nhi&#7879;m ki&#7875;m so&aacute;t h&agrave;nh kh&aacute;ch l&ecirc;n xe bus t&#7841;i m&#7897;t tr&#7841;m d&#7915;ng.</font> </P>
<P ALIGN="JUSTIFY"><font color="#000066">M&#7895;i xe bus c&oacute; </font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;&#7911; ch&#7895; cho 10 h</FONT><FONT SIZE=3>&agrave;nh kh&aacute;ch. Trong </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;ó 4 ch&#7895; ch&#7881; d</FONT><FONT SIZE=3>&agrave;nh cho kh&aacute;ch ng&#7891;i xe l</FONT><FONT FACE="Times New Roman" SIZE=3>&#259;n, 6 ch&#7895; c</FONT></font><FONT SIZE=3><font color="#000066">&ograve;n l&#7841;i ch&#7881; d&agrave;nh cho kh&aacute;ch b&igrave;nh th&#432;&#7901;ng.</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">C&ocirc;ng vi&#7879;c c&#7911;a b&#7841;n l&agrave; cho kh&aacute;ch l&ecirc;n xe theo
</font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;úng qui &#273;&#7883;nh ch&#7895;, khi xe &#273;&#7847;y khách s&#7869; kh&#7903;i h</FONT><FONT SIZE=3>&agrave;nh. C&oacute; th&#7875; c&oacute; nhi&#7873;u xe v&agrave; nhi&#7873;u h&agrave;nh kh&aacute;ch v&agrave;o b&#7871;n c&ugrave;ng l&uacute;c, nguy&ecirc;n t&#7855;c </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;i&#7873;u ph&#7889;i s&#7869; x&#7871;p khách v</FONT><FONT SIZE=3>&agrave;o </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7847;y m&#7897;t xe, cho xe n</FONT><FONT SIZE=3>&agrave;y kh&#7903;i h&agrave;nh r&#7891;i m&#7899;i </FONT></font><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;i&#7873;u ph&#7889;i cho xe khác.</font></P>
</FONT><FONT SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">Gi&#7843; s&#7917; ho&#7841;t
</font> </FONT><font color="#000066"><FONT FACE="Times New Roman" SIZE=3>&#273;&#7897;ng &#273;i&#7873;u ph&#7889;i khách c&#7911;a b&#7841;n cho 1 chi&#7871;c xe bus &#273;</FONT><FONT SIZE=3>&#432;&#7907;c m&ocirc; t&#7843; qua ti&#7871;n tr&igrave;nh <B>GetPassengers()</B>; ho&#7841;t </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7897;ng c&#7911;a m&#7895;i h</FONT><FONT SIZE=3>&agrave;nh kh&aacute;ch t&ugrave;y lo&#7841;i </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT><FONT SIZE=3>&#432;&#7907;c m&ocirc; t&#7843; l&#7847;n l&#432;&#7907;t b&#7857;ng ti&#7871;n tr&igrave;nh <B>WheelPassenger()</B> v&agrave; <B>NonWheelPassenger()</B> sau </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;ây , h</FONT><FONT SIZE=3>&atilde;y s&#7917;a ch&#7919;a c&aacute;c </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;o&#7841;n code, s&#7917; d&#7909;ng c</FONT><FONT SIZE=3>&#417; ch&#7871; semaphore </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7875; th&#7921;c hi&#7879;n các nguy</FONT><FONT SIZE=3>&ecirc;n t&#7855;c </FONT></font><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;&#7891;ng b&#7897; hoá c&#7847;n thi&#7871;t.</font></P></DIR>

</FONT><B><FONT FACE="Courier New" SIZE=3>
    <blockquote>
      <P ALIGN="JUSTIFY"><font color="#000066">GetPassenger()</font></FONT></B><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
    {</font> </P>
    <DIR>

<P ALIGN="JUSTIFY"><font color="#000066">ArriveTerminal(); </font></FONT><FONT SIZE=3><font color="#000066">// ti&#7871;p nh&#7853;n m&#7897;t xe v&agrave;o b&#7871;n</font></FONT><font color="#000066"><br>
OpenDoor();
</font><font color="#000066"><FONT SIZE=3>// m&#7903; c&#7917;a xe, th&#7911; t&#7909;c n&agrave;y xem nh&#432; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT></font><FONT SIZE=3><font color="#000066">&atilde; c&oacute;</font></FONT><font color="#000066"><br>
for (int i=0; i&lt;4; i++)
</font> <FONT SIZE=3>// ti&#7871;p nh&#7853;n c&aacute;c h&agrave;nh kh&aacute;ch ng&#7891;i xe l</FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#259;n</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
{<br>
&nbsp;&nbsp;&nbsp; ArrangeSeat(); </font></FONT><font color="#000066"><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT></font><FONT SIZE=3><font color="#000066">&#432;a 1 kh&aacute;ch v&agrave;o ch&#7895;</font></P>
</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">}</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">for (int i=0; i&lt;6; i++) </font> </FONT><FONT SIZE=3><font color="#000066">// ti&#7871;p nh&#7853;n c&aacute;c h&agrave;nh kh&aacute;ch b&igrave;nh th&#432;&#7901;ng</font></FONT><font color="#000066"><FONT FACE="Courier New" SIZE=3><br>
    {<br>
    &nbsp;&nbsp;&nbsp;</FONT></font> <FONT FACE="Courier New" SIZE=3>ArrangeSeat();
    </FONT><font color="#000066"><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT></font><FONT SIZE=3><font color="#000066">&#432;a 1 kh&aacute;ch v&agrave;o ch&#7895;</font></P>
</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">}</font></P>
<P ALIGN="JUSTIFY"><font color="#000066">CloseDoor(); </font></FONT><font color="#000066"><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;óng c&#7917;a xe, th&#7911; t&#7909;c n</FONT><FONT SIZE=3>&agrave;y xem nh&#432; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;</FONT></font><FONT SIZE=3><font color="#000066">&atilde; c&oacute;</font></P>
</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">DepartTerminal();
</font></FONT><FONT SIZE=3><font color="#000066">// cho m&#7897;t xe r&#7901;i b&#7871;n</font></FONT></P>
    </DIR>

    <P ALIGN="JUSTIFY"><FONT FACE="Courier New" SIZE=3><font color="#000066">}</font></P>
    </FONT><FONT FACE="Courier New" SIZE=3>

<B><P ALIGN="JUSTIFY"><font color="#000066">WheelPassenger()</font></B><font color="#000066"><br>
{</font> </P>
    <DIR>

<P ALIGN="JUSTIFY"><font color="#000066">ArriveTerminal(); </font></FONT><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;&#7871;n b&#7871;n</font></FONT><font color="#000066"><br>
GetOnBus();
</font><FONT SIZE=3><font color="#000066">// l&ecirc;n xe</font></P>
    </DIR>

</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">}</font></P>
<B><P ALIGN="JUSTIFY"><font color="#000066">NonWheelPassenger()</font></B><font color="#000066"><br>
{</font> </P>
    <DIR>

<P ALIGN="JUSTIFY"><font color="#000066">ArriveTerminal(); </font></FONT><FONT SIZE=3>// </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;&#7871;n b&#7871;n</font></FONT><font color="#000066"><br>
GetOnBus();
</font><FONT SIZE=3><font color="#000066">// l&ecirc;n xe</font></P>
    </DIR>

</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">}</font></P>
    </blockquote>
</FONT><B><P ALIGN="JUSTIFY"></P>

<P ALIGN="JUSTIFY"><font color="#000066"><img border="0" src="images/help.gif" width="16" height="16">
</font><font color="#000066">Bài </font><font color="#000066">5. B&agrave;i to&aacute;n s&#7843;n xu&#7845;t thi&#7871;t b&#7883; xe h&#417;i</font></P>
</B><FONT SIZE=3>
    <blockquote>

<P ALIGN="JUSTIFY"><font color="#000066">H&atilde;ng Pontiac c&oacute; 2 b&#7897; ph&#7853;n ho&#7841;t
</font> </FONT><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;&#7897;ng song song :</font></P>
    </blockquote>
    <DIR>
<DIR>
<DIR>

</FONT><FONT SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">- B&#7897; ph&#7853;n s&#7843;n xu&#7845;t 1 khung xe :</font></P><DIR>
<DIR>

</FONT><FONT FACE="Courier New" SIZE=3><P><font color="#000066">MakeChassis() { </font> </FONT><FONT SIZE=3><font color="#000066">// t&#7841;o khung xe</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
&nbsp;&nbsp; Produce_chassis();</font></P>
<P><font color="#000066">}</font></P></DIR>
</DIR>

</FONT><FONT SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">- B&#7897; ph&#7853;n s&#7843;n xu&#7845;t 1 b&aacute;nh xe :</font></P><DIR>
<DIR>

</FONT><FONT FACE="Courier New" SIZE=3><P><font color="#000066">MakeTires() { </font> </FONT><FONT SIZE=3><font color="#000066">// t&#7841;o b&aacute;nh xe v&agrave; g&#7855;n v&agrave;o khung xe</font></FONT><FONT FACE="Courier New" SIZE=3><font color="#000066"><br>
&nbsp;&nbsp;&nbsp; Produce_tire();<br>
&nbsp;&nbsp;&nbsp; Put_tire_to_Chassis();</font></P>
<P><font color="#000066">}</font></P></DIR>

</FONT><FONT SIZE=3>
</DIR>
</DIR>
</DIR>
</DIR>
    <blockquote>
      <P ALIGN="JUSTIFY"><font color="#000066">H&atilde;y </font>  </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7891;ng b&#7897; ho&#7841;t &#273;&#7897;ng trong vi&#7879;c s&#7843;n xu&#7845;t xe h</FONT><FONT SIZE=3><font color="#000066">&#417;i theo nguy&ecirc;n t&#7855;c sau :</font></P><DIR>

</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">o
</font></FONT><FONT SIZE=3><font color="#000066">S&#7843;n xu&#7845;t m&#7897;t khung xe,</font></P>
</FONT><FONT FACE="Courier New" SIZE=3><P ALIGN="JUSTIFY"><font color="#000066">o
</font></FONT><font color="#000066"><FONT SIZE=3>c&#7847;n c&oacute; </FONT><FONT FACE="Times New Roman" SIZE=3>&#273;&#7911; 4 bánh xe cho 1 khung xe &#273;</FONT><FONT SIZE=3>&#432;&#7907;c s&#7843;n xu&#7845;t ra, sau </FONT></font><FONT FACE="Times New Roman" SIZE=3><font color="#000066">&#273;ó m&#7899;i ti&#7871;p t&#7909;c s&#7843;n xu&#7845;t khung xe khác…</font>
</FONT></P>
    </DIR>
    </blockquote>
</BODY>
</HTML>
